
# Сортировка подсчетом

**Сортировка подсчётом** — это алгоритм сортировки, который используется для сортировки целых чисел в определённом диапазоне. Основная идея заключается в подсчёте количества вхождений каждого числа в массив и построении отсортированного массива на основе этих подсчётов.

### **Пример**

Допустим, у нас есть массив чисел:  
`[4, 2, 2, 8, 3, 3, 1, 4]`

1. Находим максимальное значение в массиве (в данном случае `8`).
2. Создаём массив счётчиков (или частотный массив), где каждый индекс будет хранить количество появления числа. Для чисел от 1 до 8 создаём массив с 8 элементами.
3. Подсчитываем, сколько раз каждое число встречается в исходном массиве:
    - 1 встречается 1 раз
    - 2 встречается 2 раза
    - 3 встречается 2 раза
    - 4 встречается 2 раза
    - 8 встречается 1 раз
4. Затем восстанавливаем отсортированный массив, используя эти подсчёты.

Отсортированный массив будет выглядеть так:  
`[1, 2, 2, 3, 3, 4, 4, 8]`

### **Сложность**

- Время работы: **O(n + k)**, где `n` — количество элементов в массиве, а `k` — диапазон возможных значений (например, максимальное значение в массиве).
- Пространственная сложность: **O(k)** для хранения частотного массива.

Алгоритм работает очень быстро, если диапазон значений чисел ограничен и не слишком велик.

### **Реализация на C#**

Программа сортирует массив с помощью сортировки подсчётом.

```csharp
using System;

class Program
{
    // Функция сортировки подсчётом
    static void CountingSort(int[] array)
    {
        int max = 0;

        // Находим максимальное значение в массиве
        foreach (var num in array)
        {
            if (num > max) max = num;
        }

        // Создаём массив для подсчёта
        int[] count = new int[max + 1];

        // Подсчитываем количество каждого числа в исходном массиве
        foreach (var num in array)
        {
            count[num]++;
        }

        // Перезаписываем исходный массив отсортированными значениями
        int index = 0;
        for (int i = 0; i <= max; i++)
        {
            while (count[i] > 0)
            {
                array[index++] = i;
                count[i]--;
            }
        }
    }

    static void Main()
    {
        int[] numbers = { 4, 2, 2, 8, 3, 3, 1, 4 };

        Console.WriteLine("Исходный массив:");
        Console.WriteLine(string.Join(", ", numbers));

        CountingSort(numbers);

        Console.WriteLine("\nОтсортированный массив:");
        Console.WriteLine(string.Join(", ", numbers));
    }
}
```

Этот код сначала находит максимальное значение в массиве, затем создаёт массив для подсчёта каждого числа. После этого восстанавливает отсортированный массив, добавляя числа по порядку на основе подсчётов.

### Outer links:

