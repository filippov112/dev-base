
# Сортировка вставками

**Сортировка вставками** — это алгоритм, который сортирует массив, как если бы мы по очереди вставляли элементы в уже отсортированную часть массива. Представьте, что у вас есть неотсортированная колода карт, и вы начинаете вставлять каждую новую карту в подходящее место среди уже отсортированных карт.

### **Пример**

Допустим, есть массив чисел:  
`[5, 2, 4, 6, 1, 3]`  
И нужно отсортировать его.

1. Начинаем с второго элемента (`2`). Сравниваем его с первым (`5`). `2` меньше, поэтому меняем местами. Массив: `[2, 5, 4, 6, 1, 3]`.
2. Переходим к третьему элементу (`4`). Сравниваем с `5`. `4` меньше, меняем местами. Массив: `[2, 4, 5, 6, 1, 3]`.
3. Следующий элемент (`6`). Он уже на своём месте, так что ничего не меняем. Массив: `[2, 4, 5, 6, 1, 3]`.
4. Элемент `1` вставляем на начало массива, сдвигаем все элементы. Массив: `[1, 2, 4, 5, 6, 3]`.
5. Элемент `3` вставляем между `2` и `4`, сдвигаем элементы. Массив: `[1, 2, 3, 4, 5, 6]`.

Теперь массив отсортирован.

### **Сложность**

- В лучшем случае (если массив уже отсортирован) сложность будет O(n), так как за один проход алгоритм не сделает ни одного обмена.
- В худшем случае (если массив отсортирован в обратном порядке) сложность будет O(n²), так как каждый элемент нужно будет сдвигать на всё большее расстояние.

### **Реализация на C#**

Пример сортировки массива с использованием сортировки вставками:

```csharp
using System;

class Program
{
    // Функция сортировки вставками
    static void InsertionSort(int[] array)
    {
        for (int i = 1; i < array.Length; i++)
        {
            int current = array[i];
            int j = i - 1;

            // Перемещаем элементы массива, которые больше текущего, на одну позицию вправо
            while (j >= 0 && array[j] > current)
            {
                array[j + 1] = array[j];
                j--;
            }
            // Вставляем текущий элемент в нужное место
            array[j + 1] = current;
        }
    }

    static void Main()
    {
        int[] numbers = { 5, 2, 4, 6, 1, 3 };
        
        Console.WriteLine("Исходный массив:");
        Console.WriteLine(string.Join(", ", numbers));

        InsertionSort(numbers);

        Console.WriteLine("Отсортированный массив:");
        Console.WriteLine(string.Join(", ", numbers));
    }
}
```

Этот код сортирует массив, используя алгоритм сортировки вставками, сравнивая каждый элемент с уже отсортированной частью и вставляя его в нужное место.

### Outer links:

