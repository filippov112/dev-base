
# –ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫

**–ö–æ–º–ø–æ–Ω–æ–≤—â–∏–∫ (Composite)** ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã –≤ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ–π –∫–∞–∫ —Å –µ–¥–∏–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–∏–Ω–æ—á–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –∏—Ö –≥—Ä—É–ø–ø–∞–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –æ–±—Ä–∞–∑–æ–º.

üìå –ö–æ–≥–¥–∞ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è:  
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –≥—Ä–∞—Ñ–æ–≤ –∏–ª–∏ –¥–µ—Ä–µ–≤—å–µ–≤.  
- –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–∫ –æ–¥–∏–Ω–æ—á–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, —Ç–∞–∫ –∏ –∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ (–≥—Ä—É–ø–ø–∞–º–∏) –æ–¥–∏–Ω–∞–∫–æ–≤–æ.  
- –ö–æ–≥–¥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≥–∏–±–∫–æ–π –∏ –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω—è–µ–º–æ–π.

üìå –°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞:  
–°–æ–∑–¥–∞—é—Ç—Å—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –ø—Ä–æ—Å—Ç—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, —Ç–∞–∫ –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è–º–∏ —ç—Ç–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –í–∞–∂–Ω–æ, —á—Ç–æ –∏ —Ç–µ, –∏ –¥—Ä—É–≥–∏–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –∏–µ—Ä–∞—Ä—Ö–∏—è–º–∏.

üìå –í—ã–≥–æ–¥–∞:  
‚úîÔ∏è –£–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤—å–µ–≤  
‚úîÔ∏è –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –∏ –≥—Ä—É–ø–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–∏–Ω–∞–∫–æ–≤–æ  
‚úîÔ∏è –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

---
#### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –Ω–∞ C#:
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–ª–∞—Å—Å—ã `Leaf` –∏ `Composite` —Ä–µ–∞–ª–∏–∑—É—é—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Component`. –ö–ª–∞—Å—Å `Composite` –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –≤–∫–ª—é—á–∞—è –¥—Ä—É–≥–∏–µ `Composite` –æ–±—ä–µ–∫—Ç—ã, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é.

```csharp
// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
interface IComponent
{
    void Display();
}

// –õ–∏—Å—Ç–æ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç (–û–¥–∏–Ω–æ—á–Ω—ã–π –æ–±—ä–µ–∫—Ç)
class Leaf : IComponent
{
    private string _name;
    public Leaf(string name) => _name = name;

    public void Display() => Console.WriteLine($"–õ–∏—Å—Ç–æ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç: {_name}");
}

// –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç (–ì—Ä—É–ø–ø–∞ –æ–±—ä–µ–∫—Ç–æ–≤)
class Composite : IComponent
{
    private List<IComponent> _children = new List<IComponent>();

    public void Add(IComponent component) => _children.Add(component);

    public void Display()
    {
        Console.WriteLine("–ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç:");
        foreach (var child in _children)
        {
            child.Display();
        }
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
class Program
{
    static void Main()
    {
        IComponent leaf1 = new Leaf("–õ–∏—Å—Ç 1");
        IComponent leaf2 = new Leaf("–õ–∏—Å—Ç 2");

        Composite composite = new Composite();
        composite.Add(leaf1);
        composite.Add(leaf2);

        // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ Composite –æ–±—ä–µ–∫—Ç—ã –≤ –∏–µ—Ä–∞—Ä—Ö–∏—é
        IComponent leaf3 = new Leaf("–õ–∏—Å—Ç 3");
        Composite nestedComposite = new Composite();
        nestedComposite.Add(leaf3);

        composite.Add(nestedComposite);

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏
        composite.Display();
    }
}
````

### Outer links:
https://metanit.com/sharp/patterns/4.4.php