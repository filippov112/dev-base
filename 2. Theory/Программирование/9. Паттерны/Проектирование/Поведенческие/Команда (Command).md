
# –ö–æ–º–∞–Ω–¥–∞

**–ö–æ–º–∞–Ω–¥–∞ (Command)** ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ –æ–±—ä–µ–∫—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –æ—á–µ—Ä–µ–¥—å, –æ—Ç–º–µ–Ω—è—Ç—å –∏–ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Ö.

üìå –ö–æ–≥–¥–∞ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è:  
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á.  
- –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.  
- –ï—Å–ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.

üìå –°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞:  
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥—ã —Å –º–µ—Ç–æ–¥–æ–º `Execute()`. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∫–æ–º–∞–Ω–¥ —Ä–µ–∞–ª–∏–∑—É—é—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥, –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—è –æ–ø–µ—Ä–∞—Ü–∏—é. –ö–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—É-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é (Invoker), –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

üìå –í—ã–≥–æ–¥–∞:  
‚úîÔ∏è –†–∞–∑–¥–µ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –∑–∞–ø—Ä–æ—Å–∞  
‚úîÔ∏è –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã  
‚úîÔ∏è –£–ø—Ä–æ—â–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é undo/redo  

---
#### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –Ω–∞ C#:
–í —ç—Ç–æ–º –∫–æ–¥–µ `Light` ‚Äî –ø–æ–ª—É—á–∞—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥—ã, `ICommand` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥, `TurnOnCommand` –∏ `TurnOffCommand` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –∞ `RemoteControl` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã.

```csharp
// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥—ã
interface ICommand
{
    void Execute();
}

// –ü–æ–ª—É—á–∞—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥—ã
class Light
{
    public void TurnOn() => Console.WriteLine("üí° –°–≤–µ—Ç –≤–∫–ª—é—á–µ–Ω");
    public void TurnOff() => Console.WriteLine("üåë –°–≤–µ—Ç –≤—ã–∫–ª—é—á–µ–Ω");
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
class TurnOnCommand : ICommand
{
    private Light _light;
    
    public TurnOnCommand(Light light) => _light = light;
    
    public void Execute() => _light.TurnOn();
}

class TurnOffCommand : ICommand
{
    private Light _light;
    
    public TurnOffCommand(Light light) => _light = light;
    
    public void Execute() => _light.TurnOff();
}

// –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥—ã
class RemoteControl
{
    private ICommand _command;
    
    public void SetCommand(ICommand command) => _command = command;
    
    public void PressButton() => _command.Execute();
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
class Program
{
    static void Main()
    {
        Light light = new Light();
        RemoteControl remote = new RemoteControl();

        remote.SetCommand(new TurnOnCommand(light));
        remote.PressButton();

        remote.SetCommand(new TurnOffCommand(light));
        remote.PressButton();
    }
}
````

### Outer links:
https://metanit.com/sharp/patterns/3.3.php