
# TCP

**TCP (Transmission Control Protocol)** — протокол транспортного уровня, обеспечивающий надежную передачу данных.

<font color="#92d050">Надежность</font> — подтверждение доставки (ACK), повторная передача при потере.
<font color="#92d050">Упорядоченность</font> — пакеты собираются в правильном порядке.
<font color="#92d050">Контроль потока</font> — механизм управления скоростью передачи (Sliding Window).
<font color="#92d050">Контроль перегрузки</font> — алгоритмы (Slow Start, Congestion Avoidance).

Механизмы управления трафиком:
- *Sliding Window* — контроль количества передаваемых байтов без подтверждения.
- *Nagle’s Algorithm* — уменьшение количества мелких пакетов.
- *Delayed ACK* — задержка отправки подтверждений для оптимизации трафика.

Типичные проблемы:
- TCP Slow Start — медленный разгон скорости при старте соединения.
- Head-of-Line Blocking — задержка пакетов из-за потерь.
- TCP Reset (RST) — неожиданный разрыв соединения.

Флаги TCP:
- **SYN** — запрос на установление соединения.
- **ACK** — подтверждение получения данных.
- **FIN** — завершение соединения.
- **RST** — принудительный разрыв.
- **PSH** — передача без задержки.
- **URG** — приоритетные данные.
---
### Алгоритм

**Трехэтапное установление соединения (Three-Way Handshake)**
1. Клиент отправляет **SYN**.
2. Сервер отвечает **SYN-ACK**.
3. Клиент отправляет **ACK**, соединение установлено.

**Завершение соединения (Four-Way Handshake)**
1. Одна сторона отправляет **FIN**.
2. Вторая подтверждает **ACK**.
3. Вторая сторона отправляет **FIN**.
4. Первая подтверждает **ACK**, соединение разорвано.

### Outer links:

