
# 1.3. Ошибки в blockchain

### Типы ошибок:
1. **Мошенничество (например, двойная трата)**:
    - Ошибка может быть связана с попыткой отправить одни и те же средства дважды (двойная трата). Например, если кто-то пытается потратить средства с одного кошелька дважды, это будет ошибкой.
2. **Ошибки транзакций**:
    - Например, если транзакция была подписана неправильным ключом или если средства не могут быть списаны с кошелька из-за неправильных условий или логики смарт-контракта.
3. **Технические ошибки (например, баги или уязвимости в коде)**:
    - В некоторых случаях ошибки могут возникать из-за багов в программном обеспечении или алгоритмах, которые управляют блокчейном (например, баг в алгоритме консенсуса).

### Пути отлова ошибок:
1. Проверка транзакций валидаторами или майнерами.
2. Проверка другими участниками сети.
3. Проверка кода внешними аудиторами или сообществом.
4. Проверка кода на уязвимости *Баг-баунти* программами.
5. Программы для проверки смарт-контрактов (например, MythX, OpenZeppelin и другие).
6. Перепроверки блоков при откатах.

### Механизмы исправления:
1. **Откат цепочки** — это исправление ошибок путём возвращения к предыдущему состоянию.
2. **Форк** — это разделение блокчейна на две или более версии. Типы форков:
	- **Мягкий форк (Soft Fork)**: Это когда новая версия блокчейна совместима с предыдущими версиями. То есть новые блоки могут быть приняты как правильные всеми участниками, даже если они не обновились до новой версии. Например, если блокчейн решает ввести новое правило, которое не нарушает существующих правил, но уточняет их.
	    - Пример: Внесение изменений, которые не требуют обновления всех узлов сети. Они будут работать с обеими версиями блокчейна.
	- **Жёсткий форк (Hard Fork)**: Это более серьёзное изменение, при котором новая версия блокчейна становится несовместимой с предыдущей. Все участники, которые хотят продолжать работать с новой версией, должны обновить свои узлы. В случае жёсткого форка старые блоки перестают быть действительными для новой версии блокчейна.
	    - Пример: Когда сеть решает полностью изменить правила, и участники должны обновить свои программы, иначе они останутся на старой версии блокчейна.

> Система следит за правильностью цепочек блоков транзакций и при обнаружении ошибки исправляет всю цепочку.
> Т.е. если была цепочка переводов Вася-Петя-Ваня-Коля и Вася нарушил правила, Коля всё равно потеряет средства

### Outer links:

