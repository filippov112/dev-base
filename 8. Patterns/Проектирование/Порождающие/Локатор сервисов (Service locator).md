#theory #theory-sys_design
 
---
**_–õ–æ–∫–∞—Ç–æ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤ (Service Locator)_** ‚Äî —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º, —Å–∫—Ä—ã–≤–∞—è –¥–µ—Ç–∞–ª–∏ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

üìå –ö–æ–≥–¥–∞ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è:

- –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ, –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—è –∫–æ–¥ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º.
- –ï—Å–ª–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ—É–¥–æ–±–Ω–æ.
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

üìå –°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞:  
–°–æ–∑–¥–∞—ë—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç (–ª–æ–∫–∞—Ç–æ—Ä), –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Ö –ø–æ –∑–∞–ø—Ä–æ—Å—É. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –ª–æ–∫–∞—Ç–æ—Ä—É –∑–∞ –Ω—É–∂–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, –∞ –ª–æ–∫–∞—Ç–æ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–º.

üìå –í—ã–≥–æ–¥–∞:  
‚úîÔ∏è –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏  
‚úîÔ∏è –£–ø—Ä–æ—â–∞–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –∑–∞–º–µ–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π —Å–µ—Ä–≤–∏—Å–æ–≤  
‚úîÔ∏è –£–º–µ–Ω—å—à–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–¥–∞

---

#### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –Ω–∞ C#

–í —ç—Ç–æ–º –∫–æ–¥–µ _ServiceLocator_ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Ö –ø–æ –∑–∞–ø—Ä–æ—Å—É.

```csharp
using System;
using System.Collections.Generic;

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–µ—Ä–≤–∏—Å–∞
interface IService
{
    void Execute();
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
class MyService : IService
{
    public void Execute() => Console.WriteLine("MyService –≤—ã–ø–æ–ª–Ω–µ–Ω");
}

// –õ–æ–∫–∞—Ç–æ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤
class ServiceLocator
{
    private static readonly Dictionary<Type, object> services = new();

    public static void Register<T>(T service) where T : class
    {
        services[typeof(T)] = service;
    }

    public static T Get<T>() where T : class
    {
        return services.TryGetValue(typeof(T), out var service) ? service as T : throw new Exception("–°–µ—Ä–≤–∏—Å –Ω–µ –Ω–∞–π–¥–µ–Ω");
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
class Program
{
    static void Main()
    {
        ServiceLocator.Register<IService>(new MyService()); // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
        IService service = ServiceLocator.Get<IService>();  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
        service.Execute();  // –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —Å–µ—Ä–≤–∏—Å–∞
    }
}
```

### Outer links:
