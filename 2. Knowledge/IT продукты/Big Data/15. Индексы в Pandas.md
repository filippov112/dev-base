#BigData #Pandas #generated

# Индексы в Pandas

Индексы упрощают работу с данными, так как позволяют быстро получать доступ к конкретным строкам и производить сортировку или фильтрацию.

1. **`df.index`** — для получения индекса DataFrame.
2. **`df.set_index()`** — для установки новой колонки как индекса.
3. **`df.reset_index()`** — для сброса индекса.
4. **`df.sort_index()`** — для сортировки по индексу.
5. **`df.reindex()`** — для переиндексации с новыми значениями индекса.

### Создание и изменение индексов

1. **Установка индекса при создании DataFrame**:
2. **Установка индекса из колонки**: Если у вас уже есть DataFrame, можно установить в качестве индекса одну из колонок.
3. **Сброс индекса**: Чтобы вернуть числовой индекс, можно использовать `reset_index`.
4. **Мультииндексация** (MultiIndex) позволяет иметь несколько уровней индексов.

### Доступ к данным с помощью индексов

1. **Локатор `.loc[]`**: по метке индекса.
2. **Локатор `.iloc[]`**: по числовым позициям (индексация начинается с нуля).

---

   ```python
   import pandas as pd
	
	   # 1
   data = {'Name': ['Alice', 'Bob', 'Charlie'], 'Age': [24, 27, 22]}
   df = pd.DataFrame(data, index=['a', 'b', 'c']) # Здесь индексами будут строки `a`, `b`, и `c`.
   print(df)
	   
	   # 2
   df = pd.DataFrame({'Name': ['Alice', 'Bob', 'Charlie'], 'Age': [24, 27, 22]})
   df.set_index('Name', inplace=True) # Теперь `Name` будет индексом вместо стандартного числового индекса.
   print(df)
	
	   # 3
   df.reset_index(inplace=True)

	   # 4
data = {
    'city': ['New York', 'New York', 'Los Angeles', 'Los Angeles'],
    'year': [2020, 2021, 2020, 2021],
    'sales': [100, 150, 200, 250]
}
df = pd.DataFrame(data)

# Устанавливаем мультииндекс
df.set_index(['city', 'year'], inplace=True)
# Доступ к продажам в 'New York' за 2020 год
print(df.loc[('New York', 2020)])
   ```
   
   ```python
   # Доступ к строке с индексом 'Alice'
   df.loc['Alice']
   # Доступ к первой строке
   df.iloc[0]
   ```

```python
# Создаем DataFrame
df = pd.DataFrame({
    'city': ['New York', 'Los Angeles', 'Chicago'],
    'population': [8398748, 3990456, 2705994]
})

# Устанавливаем 'city' как индекс
df.set_index('city', inplace=True)

# Доступ к данным по индексу 'city'
population_ny = df.loc['New York', 'population']
print(population_ny)

# Сортировка индекса
df.sort_index(inplace=True)
print(df)
```


### Inner links:
[14. Структуры данных в Pandas](2.%20Knowledge/IT%20продукты/Big%20Data/14.%20Структуры%20данных%20в%20Pandas.md)
[16. Чистка данных в Pandas](2.%20Knowledge/IT%20продукты/Big%20Data/16.%20Чистка%20данных%20в%20Pandas.md)
### Outer links: