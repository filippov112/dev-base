#dev_pattern
# –ü–æ—Å—Ä–µ–¥–Ω–∏–∫

**–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ (Mediator)** ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–Ω—å—à–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏, –ø–æ–∑–≤–æ–ª—è—è –∏–º –æ–±—â–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫.

üìå –ö–æ–≥–¥–∞ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è:  
- –ï—Å–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –Ω–∞–ø—Ä—è–º—É—é, —Å–æ–∑–¥–∞–≤–∞—è –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.  
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏.  
- –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –∫–æ–¥–∞, —Ä–∞–∑–¥–µ–ª–∏–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

üìå –°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞:  
–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç—ã –æ–±—â–∞–ª–∏—Å—å –Ω–∞–ø—Ä—è–º—É—é, –æ–Ω–∏ –ø–µ—Ä–µ–¥–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å—Ä–µ–¥–Ω–∏–∫—É. –ü–æ—Å—Ä–µ–¥–Ω–∏–∫ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º, –∏–∑–±–∞–≤–ª—è—è –∫–ª–∞—Å—Å—ã –æ—Ç –ª–∏—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

üìå –í—ã–≥–æ–¥–∞:  
‚úîÔ∏è –£–º–µ–Ω—å—à–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã  
‚úîÔ∏è –û–±–ª–µ–≥—á–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞  
‚úîÔ∏è –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑—É–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º  

---
#### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –Ω–∞ C#:
–í —ç—Ç–æ–º –∫–æ–¥–µ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ `ChatMediator` —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—â–µ–Ω–∏–µ–º –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ `User`. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥—Ä—É–≥ –¥—Ä—É–≥—É –Ω–∞–ø—Ä—è–º—É—é, –∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞.

```csharp
// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞
interface IChatMediator
{
    void SendMessage(string message, User sender);
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫
class ChatMediator : IChatMediator
{
    private List<User> users = new();

    public void RegisterUser(User user) => users.Add(user);

    public void SendMessage(string message, User sender)
    {
        foreach (var user in users)
        {
            if (user != sender) // –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–∞–º–æ–º—É —Å–µ–±–µ
                user.ReceiveMessage(message);
        }
    }
}

// –ö–ª–∞—Å—Å —É—á–∞—Å—Ç–Ω–∏–∫–∞
class User
{
    public string Name { get; }
    private IChatMediator mediator;

    public User(string name, IChatMediator mediator)
    {
        Name = name;
        this.mediator = mediator;
        mediator.RegisterUser(this);
    }

    public void SendMessage(string message)
    {
        Console.WriteLine($"{Name} –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: {message}");
        mediator.SendMessage(message, this);
    }

    public void ReceiveMessage(string message)
    {
        Console.WriteLine($"{Name} –ø–æ–ª—É—á–∏–ª: {message}");
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
class Program
{
    static void Main()
    {
        ChatMediator chat = new();
        User alice = new("Alice", chat);
        User bob = new("Bob", chat);
        User charlie = new("Charlie", chat);

        alice.SendMessage("–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! üëã");
        bob.SendMessage("–ü—Ä–∏–≤–µ—Ç, Alice! üòä");
    }
}
````

### Outer links:
https://metanit.com/sharp/patterns/3.9.php