#alg_sorting
# Быстрая сортировка

**Быстрая сортировка** (QuickSort) — это эффективный алгоритм сортировки, основанный на принципе "разделяй и властвуй". Он работает, выбирая опорный элемент, делит массив на две части (меньше и больше опорного) и рекурсивно сортирует эти части.

### **Пример**

Допустим, есть массив:  
`[3, 8, 2, 5, 7]`

1. Выбираем опорный элемент (например, последний элемент — `7`).
2. Разбиваем массив на две части: элементы меньше `7` и элементы больше или равные `7`.
    - Меньше: `[3, 2, 5]`
    - Больше или равно: `[8]`
3. Рекурсивно сортируем каждую часть.
4. Получаем отсортированный массив: `[2, 3, 5, 7, 8]`.

### **Сложность**

- **Лучший случай**: O(n log n) — когда массив делится на две примерно равные части.
- **Худший случай**: O(n²) — когда опорный элемент всегда на крайней позиции (например, массив уже отсортирован).
- **Средний случай**: O(n log n) — в большинстве случаев.

### **Реализация на C#**

Пример кода для быстрой сортировки:

```csharp
using System;

class Program
{
    // Функция быстрой сортировки
    static void QuickSort(int[] array, int low, int high)
    {
        if (low < high)
        {
            // Индекс опорного элемента
            int pivotIndex = Partition(array, low, high);

            // Рекурсивно сортируем две части массива
            QuickSort(array, low, pivotIndex - 1);  // Левая часть
            QuickSort(array, pivotIndex + 1, high); // Правая часть
        }
    }

    // Функция для разделения массива по опорному элементу
    static int Partition(int[] array, int low, int high)
    {
        int pivot = array[high]; // Опорный элемент
        int i = low - 1;  // Индекс меньшего элемента

        for (int j = low; j < high; j++)
        {
            if (array[j] < pivot)
            {
                i++;
                Swap(ref array[i], ref array[j]); // Меняем местами
            }
        }

        // Меняем опорный элемент с элементом на позиции i + 1
        Swap(ref array[i + 1], ref array[high]);

        return i + 1;  // Возвращаем индекс опорного элемента
    }

    // Функция для обмена двух элементов
    static void Swap(ref int x, ref int y)
    {
        int temp = x;
        x = y;
        y = temp;
    }

    static void Main()
    {
        int[] numbers = { 3, 8, 2, 5, 7 };
        
        QuickSort(numbers, 0, numbers.Length - 1);
        
        Console.WriteLine("Отсортированный массив:");
        foreach (int number in numbers)
        {
            Console.Write(number + " ");
        }
    }
}
```

### **Как работает код:**

1. В функции `QuickSort` сначала выбирается опорный элемент.
2. Массив разделяется на две части с помощью функции `Partition`.
3. Каждая из частей сортируется рекурсивно.

Этот алгоритм обычно работает быстро, особенно на случайных данных, но может работать медленно в худшем случае (например, если массив уже отсортирован).

### Outer links:

