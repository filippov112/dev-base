#lang #lang-unity 

---
**Scriptable Objects** — это особый тип объектов в Unity, который используется для *хранения данных в виде ассетов* (**assets**). Они позволяют создать объект, не связанный напрямую с игровым миром, который можно сохранять и использовать для хранения и передачи данных между различными системами. По сути - типизированные конфиги.

### Особенности:
1. **Хранение данных вне сцены**: Scriptable Objects существуют как ассеты и не привязаны к конкретной сцене. Это позволяет легко управлять данными, которые должны быть общими для разных сцен или проектов.
2. **Низкая стоимость памяти**: В отличие от объектов MonoBehaviour, которые создаются для каждого экземпляра, Scriptable Objects хранят данные в *единственном экземпляре*, что снижает использование памяти.
3. **Удобное редактирование**: Scriptable Objects можно редактировать прямо в редакторе Unity, используя инспектор, что делает их удобными для *настройки параметров игры, баланса и других данных*.

### Использование:
1. **Настройки персонажей и предметов**: Можно создать Scriptable Objects для *хранения характеристик персонажей (здоровье, скорость, урон) или параметров предметов (вес, стоимость, сила).*
2. **Сохранение глобальных данных**: Такие как *настройки игры, параметры уровней или таблицы данных*, которые могут быть использованы в разных частях игры.
3. **Настройки анимаций и поведения**: Можно использовать для хранения данных о поведении NPC или конфигурации анимаций.

> ### Инструкция:
> 
> 1. **Создание Scriptable Object**:
>    - Создайте новый класс, который наследует `ScriptableObject`.
>    - Добавьте атрибут `CreateAssetMenu`, чтобы упростить создание ассетов через меню Unity.
> 
> ```csharp
> using UnityEngine;
> 
> [CreateAssetMenu(fileName = "NewCharacterData", menuName = "FolderName/Character Data", order = 51)]
> public class CharacterData : ScriptableObject
> {
>     public string characterName;
>     public int health;
>     public int damage;
>     public float speed;
> }
> ```
> 
> 2. **Создание ассета Scriptable Object**:
>    - В Unity, щелкните правой кнопкой мыши в панели Project, выберите `Create > Folder Name > Character Data` (или то, что вы указали в `CreateAssetMenu`), чтобы создать новый ассет.
> 
> 3. **Использование Scriptable Object**:
>    - Скрипты могут ссылаться на Scriptable Objects и использовать их данные. Это можно сделать, создав поле типа вашего Scriptable Object.
> 
> ```csharp
> public class Character : MonoBehaviour
> {
>     public CharacterData characterData;
> 
>     private void Start()
>     {
>         Debug.Log("Character Name: " + characterData.characterName);
>         Debug.Log("Health: " + characterData.health);
>         Debug.Log("Damage: " + characterData.damage);
>         Debug.Log("Speed: " + characterData.speed);
>     }
> }
> ```
> 
> 4. **Редактирование данных в редакторе**:
>    - Откройте созданный ассет в инспекторе и измените его параметры. Эти данные будут сохраняться и использоваться в игре.

### Особенности и подводные камни при работе с Scriptable Objects:

1. **Неизменяемость данных**: Scriptable Objects хранятся в виде ассетов, и любые изменения, внесенные в них в ходе игры, сохраняются только во время выполнения, но не записываются обратно в ассет. Чтобы сохранить изменения на диск, нужно использовать специализированные методы, такие как `EditorUtility.SetDirty()` (это актуально только в редакторе).
2. **Singleton-подход**: Scriptable Objects часто используются как Singleton-объекты для хранения глобальных данных, доступных из любой точки программы.
3. **Сохранение и загрузка**: Если нужно сохранить изменения данных, сделанные в Scriptable Object во время выполнения игры, необходимо использовать системы сериализации, такие как JSON, XML, или PlayerPrefs.
4. **Многократное использование**: Одни и те же Scriptable Objects могут быть использованы на нескольких объектах одновременно, что позволяет легко делиться данными между разными компонентами и объектами.
5. **Не наследуйте от MonoBehaviour**: Scriptable Objects не могут быть компонентами GameObject, так что они не должны наследовать от MonoBehaviour. Это позволяет избежать создания пустых объектов в сцене.