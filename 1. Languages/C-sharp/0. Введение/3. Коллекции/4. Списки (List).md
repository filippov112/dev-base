#lang #lang-c_sharp

# Списки (List) в C#

**Списки** - динамически изменяемые коллекции.
- Индексы элементов в списке начинаются с `0`.

```csharp
// Способы инициализации:

List<int> myList = new List<int>(); // 1
List<string> names = new List<string>() { "Андрей", "Мария", "Иван" };
var employees = new List<string>(names); // 2 - Копирование
var employees = new List<string>(people){"Mike"}; // 3 - Можно совмещать

// Only C#12
List<string> people = ["Tom", "Bob", "Sam"]; // 4
List<string> employees = [];// 5 - пустой список

List<string> people = new List<string>(16); // 6 - Можно задавать сразу размер (для оптимизации)

people.Capacity = 16; // то же самое

names.Add("Ольга");       // Добавить
names.Insert(0, "София"); // Вставить по индексу
names[1] = "Ирина";       // Изменить
myList.RemoveAt(2);       // Удалить по индексу
names.Remove("Иван");     // Удалить по совпадению


string secondName = names[0]; // Получить
```

### Свойства:
- `Count` - Количество элементов в списке.
- `Capacity` - Текущая емкость списка.

### Методы:
**Добавление:**
 - `void Add(T item)` - добавление нового элемента в список
 - `void AddRange(IEnumerable<T> collection)` - добавление в список коллекции или массива
- `void Insert(int index, T item)` - вставляет элемент item в список по индексу index. Если такого индекса в списке нет, то генерируется исключение
- `void InsertRange(int index, collection)` - вставляет коллекцию элементов collection в текущий список начиная с индекса index. Если такого индекса в списке нет, то генерируется исключение

**Копирование:**
- `void CopyTo(T[] array)` - копирует список в массив array
- `void CopyTo(int index, T[] array, int arrayIndex, int count)` - копирует из списка начиная с индекса index элементы, количество которых равно count, и вставляет их в массив array начиная с индекса arrayIndex
- `List<T> GetRange(int index, int count)` - возвращает список элементов, количество которых равно count, начиная с индекса index.

**Поиск:**
[1.4. Встроенные делегаты (Predicate)](1.%20Languages/C-sharp/0.%20Введение/3.%20Делегаты/1.4.%20Встроенные%20делегаты.md)
- `int BinarySearch(T item)` - бинарный поиск элемента в списке. Если элемент найден, то метод возвращает индекс этого элемента в коллекции. При этом список должен быть отсортирован.
- `bool Contains(T item)` - возвращает `true`, если элемент item есть в списке
- `bool Exists(Predicate<T> match)` - возвращает `true`, если в списке есть элемент, который соответствует делегату match
- `T? Find(Predicate<T> match)` - возвращает первый элемент, который соответствует делегату match. Если элемент не найден, возвращается null
- `T? FindLast(Predicate<T> match)` - возвращает последний элемент, который соответствует делегату match. Если элемент не найден, возвращается null
- `List<T> FindAll(Predicate<T> match)` - возвращает список элементов, которые соответствуют делегату match
- `int IndexOf(T item)` - возвращает индекс первого вхождения элемента в списке
- `int LastIndexOf(T item)` - возвращает индекс последнего вхождения элемента в списке

**Удаление:**
- `bool Remove(T item)` - удаляет элемент item из списка, и если удаление прошло успешно, то возвращает true. Если в списке несколько одинаковых элементов, то удаляется только первый из них
- `void RemoveAt(int index)` - удаление элемента по указанному индексу index. Если такого индекса в списке нет, то генерируется исключение
- `void RemoveRange(int index, int count)` - параметр index задает индекс, с которого надо удалить элементы, а параметр count задает количество удаляемых элементов.
- `int RemoveAll((Predicate<T> match))` - удаляет все элементы, которые соответствуют делегату match. Возвращает количество удаленных элементов
- `void Clear()` - удаляет из списка все элементы

**Сортировка:**
- `void Reverse()` - изменяет порядок элементов
- `void Reverse(int index, int count)` - изменяет порядок на обратный для элементов, количество которых равно count, начиная с индекса index
- `void Sort()` - сортировка списка
- `void Sort(IComparer<T>? comparer)` - сортировка списка с помощью объекта comparer, который передается в качестве параметра


### Inner links:
[1. Коллекции](1.%20Languages/C-sharp/0.%20Введение/3.%20Коллекции/1.%20Коллекции.md)
