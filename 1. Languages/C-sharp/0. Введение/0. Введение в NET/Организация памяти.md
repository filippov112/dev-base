#Csharp

# Организация памяти в C#

> В .NET память делится на два типа: **стек** и **куча** (heap).

> **Методы** при запуске резервируют для себя область памяти в стеке, и освобождают эту область только после завершения.

> **Типы значений** хранят в *стеке* непостредственно свои значения.

> **Ссылочные типы** хранят свои значения в *куче*, а в стеке метода хранят ссылки на области памяти в куче.
> - Если на объект ссылочного типа нет ссылок GC очищает ячейку памяти с ним.

### Составные типы (структуры и классы)
- Структуры (типы значения) при инициализации в методе хранят все свои данные в области стека метода, в т.ч. ссылки на ссылочные значения.
- Классы (типы ссылки) хранят в области стека метода только ссылки, а все данные - отдельно в куче.