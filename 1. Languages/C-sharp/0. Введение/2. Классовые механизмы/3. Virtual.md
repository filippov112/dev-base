#lang #lang-c_sharp 

---
**Виртуальные члены** (методы и свойства) - реализуют некоторую базовую логику в родительском классе и позволяют потомкам переопределять этот член посредством модификатора `override`, сохраняя *полиморфизм* (возможность обращаться к новой реализации метода через переменную родителя), что не дает модификатор `new`.

- Переопределенный метод должен совпадать по сигнатуре.
- Используйте `base.БазовыйМетод()` в переопределенном методе, чтобы вызвать реализацию базового класса.
- Для запрета цепного переопределения (дальнейшего переопределения этого метода в потомках потомка) можно использовать модификатор `override sealed`

##### Как переопределить метод:
1. Используйте ключевое слово `virtual` перед объявлением метода в базовом классе.
3. Используйте ключевое слово `override` перед объявлением метода в производном классе.

```csharp
class Животное
{
    public virtual void TestOp() // указываем, что метод - виртуальный
    {
        Console.WriteLine("Неизвестный звук");
    }

	public virtual void TestOp2() // указываем, что метод - виртуальный
    {
        Console.WriteLine("Неизвестный звук");
    }
}

class Собака : Животное
{
    public override void TestOp() // переопределяем виртуальный метод
    {
	    base.TestOp(); // Можем обращаться к базовому варианту метода через base. А можем и не обращаться.
        Console.WriteLine("Гав-гав!");
    }

	public new void TestOp2() // скрываем реализацию базового метода
    {
	    base.TestOp(); // Отличий нет, кроме полиморфизма (см. выше)
        Console.WriteLine("Гав-гав!");
    }
}

```

```csharp
class Employee : Person
{
    public string Company { get; set; }
  
    public Employee(string name, string company)
                : base(name)
    {
        Company = company;
    }
 
    public override sealed void Print()
    {
        Console.WriteLine($"{Name} работает в {Company}");
    }
}
```

# Внутренние ссылки:
[2. Сигнатура](1.%20Languages/C-sharp/0.%20Введение/2.%20Классовые%20механизмы/Перегрузки/2.%20Сигнатура.md)
[3. Abstrct, virtual, static](1.%20Languages/C-sharp/0.%20Введение/2.%20Классовые%20механизмы/3.%20Abstrct,%20virtual,%20static.md)
[1. Классы](1.%20Languages/C-sharp/0.%20Введение/2.%20Классы%20и%20структуры/1.%20Классы.md)