#Csharp 

# Паттерн списков (C#11)

Паттерны списков (list pattern) позволяют сопоставлять выражения со **списками** и **массивами**.
- С помощью паттерна `_` можно обозначить одиночный элемент, который имеет любое значение.
- Для передачи произвольного количества элементов массива/списка применяется *slice-паттерн* - `..` .
- Можно извлекать как отдельные значения, так и целые срезы (slice-паттернами).
- Можно комбинировать с *паттерном свойств*.

```csharp
int GetNumber(...) => values switch // не имеет значения - список или массив
{
    [1, 2, 3, 4, 5] => 1,
    [1, 2, 3] => 2,
    [1, 2] => 3,
    [] => 4,
    _ => 5
};

if(numbers is [1, 2, 3, 4, 5])
	...
```

```csharp
int GetNumber(int[] values) => values switch
{
    [2, _, 5] => 1,
    [2, _, _] => 2,
    [_, _, 5] => 3,
    [_, _, _] => 4,
    _ => 5
};
```

```csharp
int GetNumber(int[] values)=> values switch
{
    [2, .., 5] => 1,    // если первый элемент - 2, а последний - 5
    [2,..] => 2,        // если первый элемент - 2
    [.., 5] => 3,       // если последний элемент - 5
    [..] => 4          // произвольное количество элементов
};
```

```csharp
if(numbers is [var first, var second, .., var last])
	...
 
string GetSlice(int[] values) => values switch
{
    [2, .. var middle, 5] => $"Middle: {string.Join(", ", middle)}",
    [2, .. var end] => $"End: {string.Join(", ", end)}",
    [.. var start, 5] => $"Start: {string.Join(", ", start)}",
    [.. var all] => $"All: {string.Join(", ", all)}"
};
```

```csharp
if(numbers is { Length:3 } and [var first, var second, var third])
	...
```

### Inner links:
[1. Pattern Matching](1.%20Languages/C-sharp/0.%20Введение/1.%20Типы%20данных/Pattern%20Matching/1.%20Pattern%20Matching.md)
[3. Паттерн свойств](1.%20Languages/C-sharp/0.%20Введение/1.%20Типы%20данных/Pattern%20Matching/3.%20Паттерн%20свойств.md)
[3. Одномерные массивы (Array)](1.%20Languages/C-sharp/0.%20Введение/3.%20Коллекции/3.%20Одномерные%20массивы%20(Array).md)
[4. Списки (List)](1.%20Languages/C-sharp/0.%20Введение/3.%20Коллекции/4.%20Списки%20(List).md)

### Outer links:
