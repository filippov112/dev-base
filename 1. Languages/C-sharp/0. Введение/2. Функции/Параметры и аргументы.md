#lang #lang-c_sharp

## Параметры и аргументы

**Типы параметров:**
- *Обязательные*: требуются для работы функции.
- *Необязательные*: имеют значения по умолчанию, которые можно не указывать.
- *Именованные*: передаются по имени параметра.

```csharp
void PrintInfo(string name, int age = 25) // age - необязательный параметр
{
    Console.WriteLine($"Имя: {name}, Возраст: {age}");
}

void ShowInfo(string name, int age)
{
    Console.WriteLine($"Имя: {name}, Возраст: {age}");
}
ShowInfo(age: 30, name: "Иван");
```


#### Способы передачи аргументов:

**По значению:** Копия значения параметра передается в функцию. Изменения значения внутри функции не влияют на исходное значение.
```csharp
void Swap(int x, int y)
{
    int temp = x;
    x = y;
    y = temp;
}

int a = 5;
int b = 3;
Swap(a, b);
// После выполнения Swap: a = 5, b = 3
```

**По ссылке:** Ссылка на переменную передается в функцию. Изменения значения внутри функции влияют на исходное значение.
```csharp
void SwapRef(ref int x, ref int y)
{
    int temp = x;
    x = y;
    y = temp;
}

int a = 5;
int b = 3;
SwapRef(ref a, ref b);
// После выполнения SwapRef: a = 3, b = 5
```

**По ссылке только для чтения (входные):**
- `ref readonly` (C#12)- метод считывает, но не может записывать значение аргумента. Аргумент должен передаваться по ссылке. Используется когда нужно *вернуть переданную ссылку обратно* по завершении метода.
- `in` - то же самое, но отсутствует возможность возврата значения через `return ref ...`.

```csharp
void GetRectangleData(in int width, in int height, out int rectArea, out int rectPerimetr)
{
    //width = 25; // нельзя изменить, так как width - входной параметр
    rectArea = width * height;      
    rectPerimetr = (width + height) * 2;
}
 
int w = 10;
int h = 20;
GetRectangleData(w, h, out var area, out var perimetr);
 
Console.WriteLine($"Площадь прямоугольника: {area}");       // 200
Console.WriteLine($"Периметр прямоугольника: {perimetr}");   // 60


// C# 12
void Increment(ref readonly int n)
{
    // n++; // нельзя, иначе будет очишка компиляции
    Console.WriteLine($"Число в методе Increment: {n}");
}
  
int number = 5;
Increment(ref number);
Console.WriteLine($"Число после метода Increment: {number}");
```

### Params
Используя ключевое слово `params`, мы можем передавать неопределенное количество параметров одного типа:
- идет всегда в конце списка параметров.
```csharp
void Sum(params int[]  numbers)
{
    int result = 0;
    foreach (var n in numbers)
    {
        result += n;
    }
    Console.WriteLine(result);
}
 
int[] nums = { 1, 2, 3, 4, 5};
Sum(nums);
Sum(1, 2, 3, 4);
Sum(1, 2, 3);
Sum();
```

### Inner links:
[1. Функции](1.%20Languages/C-sharp/0.%20Введение/2.%20Функции/1.%20Функции.md)
