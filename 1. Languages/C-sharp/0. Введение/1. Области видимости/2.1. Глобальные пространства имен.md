#lang #lang-c_sharp

# Глобальные пространства имен

> [!note] ##### Сравнение и рекомендации:
> 
> 1. **`global using` в коде** — лучший выбор, когда хочешь явно видеть подключение глобальных пространств имен и управлять ими из кода. Этот способ подходит для небольших проектов и простых случаев.
> 2. **`GlobalUsings.g.cs`** — автоматически генерируемый файл, который удобен, если не хочется думать о подключении стандартных пространств имен, но может быть менее гибким, если нужно добавить собственные.
> 3. **`<Using Include="MyNamespace" />` в .csproj** — удобно для проектов, где нужно централизованное управление пространствами имен, особенно если проект состоит из нескольких частей или используется в составе крупных решений.

---

##### 1. Подключение в коде
Подключаются один раз в единственном файле и действуют в пределах всего решения.
```csharp
global using NameSpace;
```

> **Преимущества:**
> - Очень просто и очевидно для разработчиков, так как сразу видно, что пространство имен подключается глобально.
> - Легко управлять — чтобы добавить или удалить пространство имен, достаточно отредактировать одну строку в коде.
>
> **Недостатки:**
> - Если таких директив много и они раскиданы по разным файлам, может быть сложно сразу понять, какие пространства имен подключены глобально.

---

##### 2. Пространства имен по умолчанию (.NET 6, C#10)
В .csproj (файле проекта) в проектах VS 2022 для .NET 6 и C# 10 эта возможность **включена** по умолчанию. Тем не менее при необходимости мы ее можем отключить (disable).
`<ImplicitUsings>enable</ImplicitUsings>`

Если мы запустим проект на выполнение, то после компиляции в папке **obj/Debug/net6.0** можно будет увидеть файл **\[Имя_проекта].GlobalUsings.g.cs**. 

```csharp
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;
```

> **Преимущества:**
> - Не нужно явно писать `global using` в коде, система автоматически подхватит необходимые пространства имен.
> - Удобно для поддержания чистоты кода, так как ты не видишь лишних директив в исходных файлах.
> 
> **Недостатки:**
> - Управлять таким файлом сложнее, так как он создается автоматически. Если тебе нужно изменить что-то в глобальных подключениях, придется искать, где эти подключения настроены.
> - Не всегда очевидно, какие пространства имен подключены глобально, если не следить за автогенерацией файла.

---

##### 3. В файле проекта (.csproj)

```xml
<ItemGroup>
	<Using Include="System" />
	<Using Include="System.Threading.Tasks" />
</ItemGroup>

<ItemGroup>
	<Using Remove="System" />
	<Using Remove="System.Threading.Tasks"/>
</ItemGroup>
```

> **Преимущества:**
> - Можно управлять глобальными `using` на уровне конфигурации проекта, а не кода.
> - Удобно, когда необходимо настроить одинаковые глобальные пространства имен для нескольких проектов в решении (можно использовать механизм общих файлов `.props` или `.targets`).
> - Хорошо для автоматизации и модульных проектов.
> 
> **Недостатки:**
> - Это менее очевидный способ для тех, кто работает с кодом, так как подключение пространств имен не видно напрямую в исходных файлах.
> - Для работы с таким способом нужно редактировать файл `.csproj`, что может быть неудобно для разработчиков, которые не часто работают с конфигурационными файлами.

### Inner links:
[2. Пространства имен](1.%20Languages/C-sharp/0.%20Введение/1.%20Области%20видимости/2.%20Пространства%20имен.md)

### Outer links:
