#Csharp  

# Интерфейсы и обобщения

#### Интерфейсы - как ограничения обобщений
В качестве ограничения можно указать сразу несколько интерфейсов.
Ограничение из нескольких интерфейсов можно удовлетворить одним общим наследником этих интерфейсов.

```csharp
interface IMessage
{
    string Text { get; } // текст сообщения
}
interface IPrintable
{
    void Print();
}
class Message : IMessage, IPrintable
{
    public string Text { get; }
    public Message(string text) => Text = text;
 
    public void Print() => Console.WriteLine(Text);
}

class Messenger<T> where T: IMessage, IPrintable
{
    public void Send(T message)
    {
        Console.WriteLine("Отправка сообщения:");
        message.Print();
    }
}

// создаем мессенджер
var telegram = new Messenger<Message>();
// создаем сообщение
var message = new Message("Hello World!");
// отправляем сообщение
telegram.Send(message);
```

### Обобщенные интерфейсы
Можно реализовывать как в обобщенном состоянии, так и в сконструированном.

```csharp
interface IUser<T>
{
    T Id { get; }
}
class User<T> : IUser<T>
{
    public T Id { get; }
    public User(T id) => Id = id;
}

IUser<int> user1 = new User<int>(6789);
Console.WriteLine(user1.Id);    // 6789
 
IUser<string> user2 = new User<string>("12345");
Console.WriteLine(user2.Id);    // 12345
```

```csharp
class IntUser : IUser<int>
{
    public int Id { get; }
    public IntUser(int id) => Id = id;
}

IUser<int> user1 = new IntUser(2345);
Console.WriteLine(user1.Id);    // 2345
 
IntUser user2 = new IntUser(9840);
Console.WriteLine(user2.Id);    // 9840
```

### Внутренние ссылки:
[1. Generic Типы](1.%20Languages/C-sharp/0.%20Введение/2.%20Универсальные%20типы/1.%20Generic%20Типы.md)
[Ограничения обобщений](1.%20Languages/C-sharp/0.%20Введение/2.%20Универсальные%20типы/Ограничения%20обобщений.md)
[1. Интерфейсы](1.%20Languages/C-sharp/0.%20Введение/3.%20Интерфейсы/1.%20Интерфейсы.md)
