#Csharp #ASP

# 4. HttpResponse в ASP.NET Core

#### **Свойства:**
- `Body`: получает или устанавливает тело ответа в виде объекта Stream
- `BodyWriter`: возвращает объект типа PipeWriter для записи ответа
- `ContentLength`: получает или устанавливает заголовок `Content-Length`
- `ContentType`: получает или устанавливает заголовок `Content-Type`
- `Cookies`: возвращает куки, отправляемые в ответе
- `HasStarted`: возвращает `true`, если отправка ответа уже началась
- `Headers`: возвращает заголовки ответа
- `Host`: получает или устанавливает заголовок `Host`
- `HttpContext`: возвращает объект HttpContext, связанный с данным объектом Response
- `StatusCode`: возвращает или устанавливает статусный код ответа
    
#### **Методы отправки ответа:**
- `Redirect()`: выполняет переадресацию (временную или постоянную) на другой ресурс
- `WriteAsJson()/WriteAsJsonAsync()`: отправляет ответ в виде объектов в формате JSON
- `WriteAsync()`: отправляет некоторое содержимое. Одна из версий метода позволяет указать кодировку. Если кодировка не указана, то по умолчанию применяется кодировка UTF-8
- `SendFileAsync()`: отправляет файл

#### **Проставлениие заголовков**
- Заголовки устанавливаются в словарь `Headers` через `Append()`, если это пользовательские или через свойства если стандартные
- Ряд стандартных заголовков уже предопределены.

---

### Примеры

```csharp
app.Run(async (context) =>
{
    await context.Response.WriteAsync("Hello METANIT.COM", System.Text.Encoding.Default);
});
```

```csharp
var builder = WebApplication.CreateBuilder();
var app = builder.Build();
 
app.Run(async (context) =>
{
    var response = context.Response;
    response.Headers.ContentLanguage = "ru-RU";
    response.Headers.ContentType = "text/plain; charset=utf-8";
    response.Headers.Append("secret-id", "256");    // добавление кастомного заголовка
    await response.WriteAsync("Привет METANIT.COM");
});
 
app.Run();
```

### Outer links:
https://metanit.com/sharp/aspnet6/2.4.php