#Csharp #ASP

# 2. Фабрика логгера и провайдеры логгирования в ASP.NET Core

Преимущество использования **фабрики логгеров** состоит в том, что мы можем дополнительно настроить различные параметры логгирования, в частности, **провайдер логгирования**.

#### Алгоритм
1. Создаем фабрику (можем не создавать, а получить готовую через DI)
2. Создаем логгер

```csharp
//var builder = WebApplication.CreateBuilder();
//var app = builder.Build();
 
ILoggerFactory loggerFactory = LoggerFactory.Create(builder => builder.AddConsole());
ILogger logger = loggerFactory.CreateLogger<Program>();
// ILogger logger = loggerFactory.CreateLogger("WebApplication"); // - категорию можно задать и так


//app.Run(async (context) =>
//{
    logger.LogInformation($"Requested Path: {context.Request.Path}");
    //await context.Response.WriteAsync("Hello World!");
//});
 
//app.Run();
```

### Провайдеры логирования
Определяют путь куда будут выгружаться сообщения.
- `Console` / `AddConsole()` - на консоль.
- `Debug` / `AddDebug()` - в окно *Output* в *Visual Studio*.  только в режиме отладки.
- `EventSource` / `AddEventSourceLogger()` - в лог [ETW](https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-portal) (Event Tracing for Windows),  
- `EventLog` / `AddEventLog()` - в *Windows Event Log*



### Outer links:
https://metanit.com/sharp/aspnet6/7.2.php