#Csharp #ASP

# 7. Параметры строки запроса в ASP.NET Core

Пример запроса: `https://localhost:7206/user?name=Tom&age=39`
Тело: `/user`
Строка: `name=Tom&age=39`

 Строка параметров отделяется от тела символом `?`. Параметры разделяются через `&`.

- Для получения параметров в обработчике должны присутствовать *одноименные параметры*. (При этом имена могут совпадать с параметрами маршрута (тела запроса), но тогда приоритет будет отдаваться уже им и параметры строки будут скрыты для получения)

```csharp
app.MapGet("/user", (string name, int age) => $"Name: {name} Age: {age}");
```

- Необязательные параметры указываются в обработчике как nullable-типы.
```csharp
app.MapGet("/user", (string name, int? age) => $"Name: {name} Age: {age??0}");
```

- Для объединение нескольких строковых параметров в один сложный тип необходимо в обработчике пометить этот тип специальным аттрибутом `[AsParameters]`. (ASP.NET Core будет искать значения для объектов непримитивных типов в теле запроса, а не в строке)

```csharp
app.MapGet("/user", ([AsParameters] Person person) => $"Name: {person.Name} Age: {person.Age}");
```

### Outer links:
https://metanit.com/sharp/aspnet6/3.8.php