#Csharp #ASP

# 1.2. Авторизация в ASP.NET Core

> Необходимо, чтобы приложение также применяло аутентификацию.

Регистрация сервисов - `AddAuthorization()`
Middleware - `Microsoft.AspNetCore.Authorization.AuthorizationMiddleware` / `UseAuthorization()`
Ограничение доступа к маршруту - `[Authorize]`

```csharp
public static IServiceCollection AddAuthorization(this IServiceCollection services)
public static IServiceCollection AddAuthorization(this IServiceCollection services, Action<AuthorizationOptions> configure)
```

```csharp
using Microsoft.AspNetCore.Authorization;
 
var builder = WebApplication.CreateBuilder();
 
//builder.Services.AddAuthentication("Bearer")  // добавление сервисов аутентификации
//   .AddJwtBearer();      // подключение аутентификации с помощью jwt-токенов
builder.Services.AddAuthorization();            // добавление сервисов авторизации
 
var app = builder.Build();

//app.UseAuthentication();   // добавление middleware аутентификации 
app.UseAuthorization();   // добавление middleware авторизации 
 
app.Map("/hello", [Authorize]() => "Hello World!");
app.Map("/", () => "Home Page");
 
app.Run();
```

### Outer links:
https://metanit.com/sharp/aspnet6/13.1.php