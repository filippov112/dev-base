#lang #lang-c_sharp  
# <font color="#00b0f0">ASP.NET:</font> –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS

### ‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

|–ü–æ–¥—Ö–æ–¥|–ì–¥–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è|–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è|–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π CORS?|–ü—Ä–∏–º–µ—Ä|
|---|---|---|---|---|
|`app.UseCors("Policy")`|`Program.cs`|–ì–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è –≤—Å–µ—Ö|‚úÖ –î–∞, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∏–Ω–æ–µ|`app.UseCors("GlobalPolicy")`|
|`[EnableCors("Policy")]`|–ê—Ç—Ä–∏–±—É—Ç –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ/–º–µ—Ç–æ–¥–µ|–¢–æ–ª—å–∫–æ –∫ –æ—Ç–º–µ—á–µ–Ω–Ω—ã–º|‚úÖ –î–∞, –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –≥–ª–æ–±–∞–ª—å–Ω—ã–º|`[EnableCors("CustomPolicy")]`|
|`[DisableCors]`|–ê—Ç—Ä–∏–±—É—Ç –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ/–º–µ—Ç–æ–¥–µ|–¢–æ–ª—å–∫–æ –∫ –æ—Ç–º–µ—á–µ–Ω–Ω—ã–º|‚úÖ –î–∞, –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∞–µ—Ç CORS|`[DisableCors]`|
|`RequireCors("Policy")`|–í `.MapXXX()`|–ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É endpoint|‚úÖ –î–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –≥–ª–æ–±–∞–ª—å–Ω—ã–º|`MapGet(...).RequireCors(...)`|

---
- üåê **<font color="#ffff00">–ì–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CORS</font>**
	–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –≤—Ö–æ–¥—è—â–∏–º –∑–∞–ø—Ä–æ—Å–∞–º –∏ –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `app.UseCors(...)` –≤ `Program.cs`.
	```csharp
	app.UseCors("GlobalPolicy");
	```

- üìç **<font color="#ffff00">–õ–æ–∫–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ `RequireCors()`</font>**
	–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É endpoint –∏ –∑–∞–¥–∞—ë—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `RequireCors("PolicyName")`.
	```csharp
	app.MapGet("/public", () => "–û—Ç–∫—Ä—ã—Ç—ã–π –¥–æ—Å—Ç—É–ø").RequireCors("PublicPolicy");
	```

- üö´ **<font color="#ffff00">–ê—Ç—Ä–∏–±—É—Ç—ã `[EnableCors]`, `[DisableCors]`</font>**
	–õ–æ–∫–∞–ª—å–Ω–æ –≤–∫–ª—é—á–∞—é—Ç/–æ—Ç–∫–ª—é—á–∞—é—Ç CORS –ø–æ–ª–∏—Ç–∏–∫—É(–∏) –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏—è, –¥–∞–∂–µ –µ—Å–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ CORS –≤–∫–ª—é—á—ë–Ω.
	–ò–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –≥–ª–æ–±–∞–ª—å–Ω–æ–π.
	```csharp
	[ApiController]
	[Route("[controller]")]
	public class DataController : ControllerBase
	{
	    [HttpGet("open")]
	    [EnableCors("PublicPolicy")]
	    public IActionResult OpenData() => Ok("–î–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º");
	
	    [HttpGet("restricted")]
	    [EnableCors("RestrictedPolicy")]
	    public IActionResult RestrictedData() => Ok("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ frontend");
	
	    [HttpGet("nocors")]
	    [DisableCors]
	    public IActionResult NoCorsData() => Ok("CORS –æ—Ç–∫–ª—é—á—ë–Ω");
	}
	```

### Outer links:
https://metanit.com/sharp/aspnet6/14.4.php