#lang #lang-c_sharp 

# 3. Ограничения маршрута в ASP.NET Core

Ограничения указываются через знак `:` в шаблоне маршрута. Число ограничений на параметр не ограничено.

```csharp
var builder = WebApplication.CreateBuilder();
var app = builder.Build();
 
app.Map(
    "/users/{name:alpha:minlength(2)}/{age:int:range(1, 110)}",
    (string name, int age) => $"User Age: {age} \nUser Name:{name}"
);
app.Map(
    "/phonebook/{phone:regex(^7-\\d{{3}}-\\d{{3}}-\\d{{4}}$)}/",
    (string phone) => $"Phone: {phone}"
);
app.Map("/", () => "Index Page");
 
 
app.Run();
```

### Варианты ограничений

- **int**
    Соответствие целому числу. Представляет класс IntRouteConstraint
```csharp
    {id:``int``}
```    

- **bool.** 
    Соответствие значению true или falsen. Представляет класс BoolRouteConstraint
```csharp
    {active:``bool``}
```    

- **datetime** 
    Соответствие дате и времени. Представляет класс DateTimeRouteConstraint
```csharp
    {date:datetime}
```    

- **decimal**
    Соответствие значению decimal. Представляет класс DecimalRouteConstraint
```csharp
    {price:``decimal``}
```    

- **double**
    Соответствие значению типа double. Представляет класс DoubleRouteConstraint
```csharp
    {weight:``double``}
```    

- **float**
    Соответствие значению типа float. Представляет класс FloatRouteConstraint
```csharp
    {height:``float``}
```    

- **guid**
    Соответствие значению типа Guid. Представляет класс GuidRouteConstraint
```csharp
    {id:guid}
```    

- **long**
    Соответствие значению типа long. Представляет класс LongRouteConstraint
```csharp
    {id:``long``}
```    

- **minlength(value)**
    Строка должна иметь символов не меньше value. Представляет класс MinLengthRouteConstraint
```csharp
    {name:minlength(3)}
```    

- **maxlength(value)**
    Строка должна иметь символов не больше value. Представляет класс MaxLengthRouteConstraint
```csharp
    {name:maxlength(20)}
```    

- **length(value)**
    Строка должна иметь ровно столько символов, сколько определено в параметре value. Представляет класс LengthRouteConstraint
```csharp
    {name:length(10)}
```    

- **length(min, max)**    
    Строка должна иметь символов не меньше min и не больше max. Представляет класс LengthRouteConstraint
```csharp
    {name:length(3, 20)}
```    

- **min(value)**
    Число должно быть не меньше value. Представляет класс MinRouteConstraint
```csharp
    {age:min(3)}
```    

- **max(value)**
    Число должно быть не больше value. Представляет класс MaxRouteConstraint
```csharp
    {age:max(20)}
```    

- **range(min, max)**    
    Число должно быть не меньше min и не больше max. Представляет класс RangeRouteConstraint
```csharp
    {age:range(18, 99)}
```    

- **alpha**  
    Строка должна состоять из одного и более алфавитных символов. Представляет класс AlphaRouteConstraint
```csharp
    {name:alpha}
```    

- **regex(expression)**
    Строка должна соответствовать регулярному выражению expression. Представляет класс RegexRouteConstraint
```csharp
    {phone:regex(^\d{{3}}-\d{{3}}-\d{{4}}$)}
```    

- **required**
    Параметр является обязательным, и его значение должно быть определено. Представляет класс RequiredRouteConstraint 
```csharp
	{name:required}
```


### Outer links:
https://metanit.com/sharp/aspnet6/3.3.php