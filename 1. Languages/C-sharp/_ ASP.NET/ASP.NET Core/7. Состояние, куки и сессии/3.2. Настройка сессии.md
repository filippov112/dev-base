#lang #lang-c_sharp 

# 3.2. Настройка сессии в ASP.NET Core

Для разграничения сессий для них устанавливается *идентификатор*. Каждая сессия имеет свой, который сохраняется в куках. По умолчанию эти куки имеют название "*.AspNet.Session*". И также по умолчанию куки имеют настройку `CookieHttpOnly=true`, поэтому они не доступны для клиентских скриптов из браузера. Но мы можем переопределить ряд настроек сессии с помощью свойств объекта `SessionOptions`:

- `Cookie.Name`: имя куки
- `Cookie.Domain`: домен, для которого устаналиваются куки
- `Cookie.HttpOnly`: доступны ли куки только при передаче через HTTP-запрос
- `Cookie.Path`: путь, который используется куками
- `Cookie.Expiration`: время действия куки в виде объекта System.TimeSpan
- `Cookie.IsEssential`: при значении true указывает, что куки критичны и необходимы для работы этого приложения
- `IdleTimeout`: время действия сессии в виде объекта System.TimeSpan прм неактивности пользователя. При каждом новом запросе таймаут сбрасывается. Этот параметр не зависит от Cookie.Expiration.

```csharp
builder.Services.AddDistributedMemoryCache();
builder.Services.AddSession(options =>
{
    options.Cookie.Name = ".MyApp.Session";
    options.IdleTimeout = TimeSpan.FromSeconds(3600);
    options.Cookie.IsEssential = true;
});
```

### Inner links:
[3. Сессии](1.%20Languages/C-sharp/_%20ASP.NET/ASP.NET%20Core/7.%20Состояние,%20куки%20и%20сессии/3.%20Сессии.md)