#lang #lang-c_sharp 
# <font color="#00b0f0">EF Core:</font> Агрегатные операции

Выполняют вычисления над набором данных (сумма, среднее, количество и т.д.).  
Основные методы: `All`, `Any`, `Count`, `Sum`, `Min`, `Max`, `Average`.  

---
#### **Проверка наличия элементов**  
- **`Any()`** – возвращает `true`, если хотя бы один элемент соответствует условию.  
  ```csharp
  bool result = db.Users.Any(u => u.Company!.Name == "Google");
  ```  

- **`All()`** – возвращает `true`, если все элементы соответствуют условию.  
  ```csharp
  bool result = db.Users.All(u => u.Company!.Name == "Microsoft");
  ```  
 
#### **Количество элементов (`Count`)**  
```csharp
int number1 = db.Users.Count(); // Общее количество  
int number2 = db.Users.Count(u => u.Name!.Contains("Tom")); // С условием  
```  

#### **Минимальное, максимальное и среднее значения**  
```csharp
int minAge = db.Users.Min(u => u.Age);  
int maxAge = db.Users.Max(u => u.Age);  
double avgAge = db.Users.Where(u => u.Company!.Name == "Microsoft").Average(u => u.Age);  
```  

#### **Сумма значений (`Sum`)**  
```csharp
int sum1 = db.Users.Sum(u => u.Age); // Сумма всех возрастов  
int sum2 = db.Users.Where(u => u.Company!.Name == "Microsoft").Sum(u => u.Age);  
```  
 
---
### Outer links:
https://metanit.com/sharp/efcore/5.5.php