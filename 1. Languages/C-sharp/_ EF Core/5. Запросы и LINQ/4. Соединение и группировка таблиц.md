#lang #lang-c_sharp 

---
#### **Соединение**
**`Join`** используется для объединения таблиц по определенному критерию.

  ```csharp
  var users = db.Users.Join(
      db.Companies,                     // Вторая таблица
      u => u.CompanyId,                 // Критерий из первой таблицы
      c => c.Id,                        // Критерий из второй таблицы
      (u, c) => new { u.Name, c.Name, u.Age }  // Результат
  );
  ```

  ```csharp
  var users = from u in db.Users
              join c in db.Companies on u.CompanyId equals c.Id
              select new { u.Name, Company = c.Name, u.Age };
  ```

---
#### **Группировка**
**`group by`** / `GroupBy()` применяется для группировки.

  ```csharp
  var groups = from u in db.Users
               group u by u.Company!.Name into g
               select new { g.Key, Count = g.Count() }; // Key - условное обозначение ключа группировки (Company.Name)
  ```

  ```csharp
  var groups = db.Users.GroupBy(u => u.Company!.Name)
                      .Select(g => new { g.Key, Count = g.Count() });
  ```

---
### Outer links:
https://metanit.com/sharp/efcore/5.3.php