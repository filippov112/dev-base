#lang #lang-c_sharp 

---
EF Core генерирует таблицы с учетом обязательности свойств:  

- **Обязательные свойства** (Required) – не допускают `NULL` в БД.  
  - Если тип свойства **не nullable** (`string`, `int` и т.д.), оно автоматически считается обязательным.  
    ```csharp
    public string Name { get; set; } = ""; // Обязательное (NOT NULL в БД)
    public int Age { get; set; }           // Обязательное (NOT NULL в БД)
    ```  
- **Необязательные свойства** (Optional) – допускают `NULL`.  
  - Если тип **nullable** (`string?`, `int?`), свойство считается необязательным.  
    ```csharp
    public string? Company { get; set; }    // Необязательное (NULL разрешён)
    ```  
 ---
### **Явное указание**  
##### **Атрибут `[Required]`**  
- Делает свойство обязательным, даже если оно nullable.  
- При попытке сохранить объект с `null` возникнет исключение `DbUpdateException`.
  ```csharp
  using System.ComponentModel.DataAnnotations;

  public class User
  {
      public int Id { get; set; }
      [Required]
      public string? Name { get; set; } // NOT NULL в БД, несмотря на string?
  }
  ```  

##### **Fluent API: `IsRequired()`**  
- Альтернативный способ через `OnModelCreating`:  
  ```csharp
  protected override void OnModelCreating(ModelBuilder modelBuilder)
  {
      modelBuilder.Entity<User>()
          .Property(u => u.Name)
          .IsRequired(); // Делает Name обязательным
  }
  ```  
---
### Outer links:
https://metanit.com/sharp/efcore/2.15.php