#lang #lang-c_sharp 
# <font color="#00b0f0">EF Core:</font> Иерархические данные

Иерархические данные представляют древовидные структуры, такие как:
- Меню с подменю
- Файловая система с вложенными каталогами
- Организационные структуры

Для представления иерархии используется **рекурсивная модель**:
```csharp
public class MenuItem
{
    public int Id { get; set; }
    //...
    
    // Ссылка на родительский элемент / внешний ключ на саму таблицу
    public int? ParentId { get; set; } // nullable для корневых элементов
    public MenuItem? Parent { get; set; }
    
    // Коллекция дочерних элементов
    public List<MenuItem> Children { get; set; } = new();
}
```

Для сложных иерархий можно рассмотреть:
- Паттерн "Closure Table"
- Материализованные пути (Materialized Path)
- Вложенные множества (Nested Set)

---
### Outer links:
https://metanit.com/sharp/efcore/3.11.php