#EntityFramework #Csharp 
# <font color="#00b0f0">EF Core:</font> Ограничения свойств

---
### **Аннотации данных**

- `MaxLength` - устанавливает максимальную длину для строковых свойств. Влияет на тип столбца в БД (например, `nvarchar(50)` в MS SQL Server).  
	- В SQLite ограничение игнорируется.  
	- `[MinLength]` не влияет на схему БД (используется только для валидации).  
	```csharp
	public class User
	{
	    public int Id { get; set; }
	    [MaxLength(50)] // Ограничение длины до 50 символов
	    public string? Name { get; set; }
	}
	```  

---
### **Fluent API**
- `HasMaxLength` - альтернативный способ задания ограничения длины.  
	```csharp
	protected override void OnModelCreating(ModelBuilder modelBuilder)
	{
	    modelBuilder.Entity<User>().Property(b => b.Name).HasMaxLength(50);
	}
	```  

- **Метод `HasCheckConstraint()`**  - позволяет задать **CHECK-ограничение** для столбца в БД. Принимает название ограничения и SQL-выражение для проверки.
	```csharp
	protected override void OnModelCreating(ModelBuilder modelBuilder)
	{
	    modelBuilder.Entity<User>()
	        .ToTable(t => t.HasCheckConstraint("ValidAge", "Age > 0 AND Age < 120"));
	}
	```  

---
### Outer links:
https://metanit.com/sharp/efcore/2.9.php