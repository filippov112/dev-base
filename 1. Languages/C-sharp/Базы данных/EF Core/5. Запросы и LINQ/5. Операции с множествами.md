#EntityFramework #Csharp 
# <font color="#00b0f0">EF Core:</font> Операции с множествами

Операции с множествами: **объединение, пересечение, разность**.  
Выборки должны быть **однородными** (одинаковый набор столбцов). Можно использовать проекции (`select`) на несочетающихся таблицах для этого.

---
##### **Объединение (`Union`)**  
- Объединяет две выборки **без дубликатов**.  
  ```csharp
  var users = db.Users.Where(u => u.Age < 30)
                   .Union(db.Users.Where(u => u.Name!.Contains("Tom")));
  ```  
 
---
##### **Пересечение (`Intersect`)**  
- Возвращает элементы, присутствующие **в обеих выборках**.  
  ```csharp
  var users = db.Users.Where(u => u.Age > 30)
                   .Intersect(db.Users.Where(u => u.Name!.Contains("Tom")));
  ```  

---
##### **Разность (`Except`)**  
- Возвращает элементы **первой выборки**, которых нет во второй.  
  ```csharp
  var selector1 = db.Users.Where(u => u.Age > 30);
  var selector2 = db.Users.Where(u => u.Name!.Contains("Tom"));
  var users = selector1.Except(selector2);
  ```  

---
### Outer links:
https://metanit.com/sharp/efcore/5.4.php