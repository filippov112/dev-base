#EntityFramework #Csharp 
# <font color="#00b0f0">EF Core:</font> Сортировка и проекция из БД

#### **Проекция**
Позволяет преобразовать набор объектов одного типа в набор объектов другого типа, выбирая только нужные свойства.  
 `Select` позволяет выбрать только нужные поля, включая данные из связанных таблиц.  
  
```csharp
// в анонимный тип
var users = db.Users.Select(p => new 
{ 
    Name = p.Name, 
    Age = p.Age, 
    Company = p.Company!.Name 
});

// в пользовательский тип
var users = db.Users.Select(p => new UserModel
{ 
    Name = p.Name, 
    Age = p.Age, 
    Company = p.Company!.Name 
});
```

---

#### **Сортировка**  
**Методы сортировки:**  
- `OrderBy` – сортировка по возрастанию.  
- `OrderByDescending` – сортировка по убыванию.  
- `ThenBy` / `ThenByDescending` – дополнительная сортировка после основной.  
	
	```csharp
	var users = db.Users.OrderBy(p => p.Name);
	```  
	
	```csharp
	var users = db.Users.OrderByDescending(u => u.Name);
	```  
	
	```csharp
	var users = db.Users.OrderBy(u => u.Age).ThenBy(u => u.Company!.Name);
	```  

	```csharp
	var users = from u in db.Users
	            orderby u.Name
	            select u;
	```

---
### Outer links:
https://metanit.com/sharp/efcore/5.10.php