#Csharp 
# <font color="#00b0f0">C#:</font> Указатели

Предоставляют доступ к ячейке памяти.
Включение настройки: *Project (Проект)* -> *Свойства проекта* -> *Build* -> *Unsafe code (Небезопасный код)*

`unsafe` (небезопасный код) - модификатор конструкций, в которых используются указатели

`тип* имя_указателя` - определение указателя

Можно также создавать указатели на другие указатели.
`тип** имя_указателя` - определение указателя на указатель

---
- **Значение `*`** - получить/установить значение ячейки указателя.
	- `*указатель = значение` - установка
	- `переменная = *указатель` - получение
- **Адрес `&`** - получить/установить адрес указателя
	- `указатель = &переменная` - установка
	- `переменная = указатель` - получение

#### По типам данных
- Структуры, классы, массивы в стеке: 
	- Структуры - только без полей ссылочных типов.
	- Оператор `->` (`имя_структуры->член_структуры` = `(*имя_структуры).член_структуры`)
- [stackalloc](1.%20Languages/C-sharp/GC/stackalloc.md) - массивы в стеке
- [fixed](1.%20Languages/C-sharp/GC/fixed.md) - члены классов (обычных коллекций)
---
### Примеры

```csharp
unsafe
{
    int* x; // определение указателя
    int y = 10; // определяем переменную
 
    x = &y; // указатель x теперь указывает на адрес переменной y
    Console.WriteLine(*x); // 10
 
    y = y + 20;     // меняем значение
    Console.WriteLine(*x);// 30
 
    *x = 50;
    Console.WriteLine(y); // переменная y=50
}
```

```csharp
int* x; // определение указателя
int y = 10; // определяем переменную
 
x = &y; // указатель x теперь указывает на адрес переменной y
 
// получим адрес переменной y
ulong addr = (ulong)x;
Console.WriteLine($"Адрес переменной y: {addr}");
```

```csharp
unsafe
{
    int* x; // определение указателя
    int y = 10; // определяем переменную
 
    x = &y; // указатель x теперь указывает на адрес переменной y
    int** z = &x; // указатель z теперь указывает на адрес, указателя x
    **z = **z + 40; // изменение указателя z повлечет изменение переменной y
    Console.WriteLine(y); // переменная y=50
    Console.WriteLine(**z); // переменная **z=50
}
```

### Outer links:
https://metanit.com/sharp/tutorial/8.3.php
https://metanit.com/sharp/tutorial/8.4.php