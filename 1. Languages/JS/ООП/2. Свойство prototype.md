#lang #lang-js 

# 2. Свойство prototype

```js
function Rect() {
  this.name = "прямоугольник";

  this.draw = function() {
  console.log("Рисование фигуры: " + this.name);
  }
}

let r = new Rect();
```

При создании функции конструктора можно сразу определять **базовый объект при создании экземпляра** объекта этой функции:

```javascript
this.__proto__ = prop;
```

**Внимание!** При использовании данного метода мы **теряем** промежуточный объект, и как следствие - ссылку на функцию-конструктор для создания **дублей экземпляров**.
Иногда можно увидеть другой способ определения базового объекта (**нерекомендуемый**) через саму функцию-конструктор:

```javascript
Rect.prototype = prop;
```

**Внимание!** При использовании этих методов мы **теряем** промежуточный объект, и как следствие - ссылку на функцию-конструктор для создания **дублей экземпляров**.
В качестве «костыля» можно создать ссылку на ФК уже после наследования **2-ым** методом:

```javascript
Rect.prototype.constructor = Rect;
```

**Свойство** **prototype**, присущее функции-конструктору, представляет собой **промежуточный объект базовый** для дочернего, хранящий **обратную ссылку функции-конструктора** (`constructor`) для копирования объектов и **ссылку на базовый объект** (`__proto__`).

![](heap/_files/js/Pasted%20image%2020241001210634.png)

**Лучше** указывать базовый объект для промежуточного:

```javascript
Rect.prototype.__proto__ = prop;
```

В результате чего мы получаем следующую схему наследования:

![](heap/_files/js/Pasted%20image%2020241001210625.png)

Таким образом можно создавать в промежуточном объекте любые дополнительные методы и свойства:

```javascript
Rect.prototype.getName = function() { 
  return this.name; 
};

Rect.prototype.setName = function(name) { 
  this.name = name; 
};
```
