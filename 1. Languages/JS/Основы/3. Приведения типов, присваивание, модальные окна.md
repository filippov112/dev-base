#lang #lang-js 

# 3. Приведения типов, присваивание, модальные окна

## Строково-числовые преобразования

Рассмотрим сначала **строковые преобразования**.

```javascript
let a = true; 
a = String(a);
```

По аналогии делается **численное преобразование**:

```javascript
let a = "123"; 
a = Number(a);
```

**Когда явно видно**, что данные должны быть преобразованы в числа, то виртуальная **JavaScript-машина** это делает автоматически.
Например, при таком делении двух строк:

```javascript
console.log("6" / "3"); // в консоле увидим значение 2
```

**Практически во всех математических операциях, кроме операции сложения.**
Складывая две строки:

```javascript
console.log("6" + "3"); // получим строку «63»
```

Причем строки будут соединяться, если **хотя бы один** из операндов **имеет строковый тип**.

```javascript
console.log("6" + 3); 
console.log(6 + "3");
```

### Общие правила численного преобразования такие:

| Значение    | Результат преобразования |
|-------------|--------------------------|
| undefined   | NaN                      |
| null        | 0                        |
| true/false  | 1/0                      |
| Строка      | Пробельные символы по краям обрезаются. Далее, если остаётся пустая строка, то 0, иначе из непустой строки «считывается» число. При ошибке результат NaN. |

```javascript
console.log(Number("   123   ")); // 123
console.log(Number("123z"));        // NaN (ошибка чтения числа в "z")
console.log(Number(true));          // 1
console.log(Number(false));         // 0
```

## Булевое преобразование

Для этого используется функция `Boolean(<выражение>)`, которая преобразует:
- значения, которые интуитивно «пустые», вроде 0, пустой строки, null, undefined и NaN, в **false**;
- все остальные значения в **true**.

## Оператор присваивания

Далее, оператор `=` **возвращает значение**. Например, при присваивании `x = value` значение `value` **сначала записывается в `x`, а затем возвращается**. В частности, именно поэтому возможна такая запись:

```javascript
let a, b = 1;
let c = 3 - (a = b + 1);
console.log(a, b, c); // a=2, b=1, c=1
```

Здесь сначала переменной `a` будет присвоено значение `1 + 1 = 2`, **далее оно возвращается оператором присваивания** и получаем вычисление разности `3 - 2 = 1`. В итоге имеем значения `a=2`, `b=1`, `c=1`.

> **Но писать самим в таком стиле не рекомендуется.**

## Функции alert, prompt, confirm

**_Модальное_** _означает, что пользователь не может взаимодействовать с интерфейсом остальной части страницы до тех пор, пока окно открыто._

1. **Первая функция `alert()`** отображает окно с сообщением и приостанавливает дальнейшее исполнение скрипта. Синтаксис функции такой:

   ```javascript
   alert(<сообщение>);
   ```

   Например: 

   ```javascript
   alert("Hello");
   ```

2. **Следующая функция `prompt()`** отображает модальное окно для ввода каких-либо данных. Синтаксис этой функции такой:

   ```javascript
   result = prompt(title, [default]);
   ```

   Здесь `title` – текст для отображения в окне; `default` – необязательный аргумент, устанавливающий некое значение по умолчанию. 
   Пример:

   ```javascript
   let age = prompt("Сколько вам лет?", 18); 
   console.log(age);
   ```

3. **Третья функция `confirm()`** отображает модальное окно с текстом вопроса и имеет такой синтаксис:

   ```javascript
   result = confirm(question);
   ```

   Здесь `question` – текст вопроса; `result` – результат ответа: принимает значение `true`, если пользователь нажал на кнопку OK, и `false` – в других случаях.
   Пример:

   ```javascript
   let isCar = confirm("У тебя есть машина?"); 
   console.log(isCar);
   ```
