#JS

# 19. Методы числовых объектов

**Форматы записи чисел**

```javascript
let a1 = 1e9;    // 1 000 000 000
let a2 = 0.5e3;  // 0.5 * 1000 = 500
let a3 = 1e-6;   // 0.000001
let a4 = 0xff;   // шестнадцатиричная запись (ff = 255)
let a5 = 0b11111111; // двоичная запись десятичного числа 255
let a6 = 0o377; // восьмеричная форма записи числа 255
```

**Особенности числовой арифметики**
В JavaScript число представлено в виде 64-битного формата IEEE-754. 52 из них используется для хранения цифр, 11 из них для хранения положения десятичной точки (если число целое, то хранится 0), и один бит отведён на хранение знака.
Наиболее часто встречающаяся ошибка при работе с числами в JavaScript – это **потеря точности**. Например, сумма двух таких **вещественных** чисел:

```javascript
let res = 0.1 + 0.2;
console.log(res); // не дает точное значение 0.3
```

**toString(base)**
Метод `toString(base)` переводит число в систему счисления `base` (2-36). Например:

```javascript
let num = 255;
console.log(num.toString(16)); // ff – это строки
console.log(num.toString(2));   // 11111111
```

Интересной особенностью записи методов у чисел служит такой синтаксис:

```javascript
let res = 127..toString(16);
console.log(res);
```

После любого числа можно поставить **две точки** и вызвать **любой числовой метод**.

**Методы округления чисел**
В JavaScript имеется встроенный объект **Math**, предоставляющий различные математические методы:
- `Math.floor` – округление в меньшую сторону;
- `Math.ceil` – округление в большую сторону;
- `Math.round` – округление до ближайшего целого.
Например:

```javascript
let dig = 1.5;
let res = Math.floor(dig);
console.log(res); // 1
console.log(Math.ceil(dig)); // 2
console.log(Math.round(1.4)); // 1
console.log(Math.round(1.5)); // 2
console.log(dig.toFixed(2)); // round с числом после запятой
```

**isFinite и isNaN**
- `isFinite` – **определяет число** или строку из чисел.
- `isNaN` – обратная функция.

```javascript
console.log(isNaN(NaN));       // true
console.log(isNaN("1"));       // false
console.log(isNaN(2));         // false
console.log(isNaN("abc"));     // true
```

По аналогии работает и вторая функция `isFinite`:

```javascript
console.log(isFinite("15"));   // true
console.log(isFinite("str"));   // false, потому что специальное значение: NaN
console.log(isFinite(Infinity)); // false
```

**ParseInt и parseFloat - парсеры**
Считывают соответственно целые числа (в т.ч. в недесятичных системах) и дроби:

```javascript
let arg1 = "12pt";
let arg2 = "100%";
let arg3 = "340px";

console.log(parseInt(arg1)); // 12
console.log(parseInt(arg2)); // 100
console.log(parseInt(arg3)); // 340
console.log(parseFloat("12.5pt")); // 12.5
console.log(parseFloat("  90.5% ")); // 90.5
console.log(parseFloat("+30.5px")); // 30.5
console.log(parseInt('0xff', 16)); // 255
console.log(parseInt('aa', 16)); // 170, можно и без 0x
console.log(parseInt('11011', 2)); // 27
```

**Другие математические функции**
`Math.random()` возвращает псевдослучайное число в диапазоне (0; 1]. Например:

```javascript
for (let i = 0; i < 10; ++i) {
    console.log(Math.random());
}
```

`Math.max(a, b, c...)` / `Math.min(a, b, c...)` возвращают наибольшее/наименьшее число из переданных аргументов:

```javascript
let max = Math.max(1, 2, 0, -10, 5, 7);
let min = Math.min(1, 2, -10, 5);

console.log(max); // 7
console.log(min); // -10
```

`Math.pow(n, power)` возвращает `n**power`:

```javascript
console.log(Math.pow(2, 10)); // 2 в степени 10 = 1024
```
