#JS 

# 13. Создание объектов и цикл `for in`

### **Объекты**

**Объекты** – это по своей сути **словари** в Python.

```javascript
let book = {
    title: "название",
    author: "автор",
    nPages: 0,
    price: 0
};
```

1. К ним можно обращаться через точку или через ключ в квадратных скобках.

```javascript
console.log(book.price);
let keyName = "size book";
console.log(book[keyName]);
```

2. Так же, как и со словарями, можно создавать дополнительные свойства (ключи) и удалять их. Можно проверять наличие того или иного ключа.

```javascript
book.isSelled = false; // инициализация
delete book.nPages; // удаление
console.log("nPages" in book); // проверка
if (book.nPages === undefined) console.log("nPages не существует"); // чаще употребляется
```

3. Также можно создавать и пустые объекты (словари).

```javascript
let book = new Object();
let book = {}; // способ называется литералом объекта
```

4. Ключи, состоящие из словосочетаний, записываются в кавычках и взаимодействуют **только через ключ-скобки**.

```javascript
let book = {
    title: "название",
    author: "автор",
    nPages: 0,
    "size book": { height: 100, width: 20 }
};

book["size book"] = { height: 100, width: 50 };
```

5. При инициализации словаря можно использовать строковые переменные (в том числе в составе выражений).

```javascript
let newKey = "color";
let car = {
    model: "toyota",
    [newKey + " car"]: "black",
};
```

6. При создании объектов также можно использовать сокращенное объявление его свойств с использованием ранее заданных переменных с сохранением их имен.

```javascript
function createCar(model, color) {
    return {
        model, // то же самое, что и model: model
        color // то же самое, что и color: color
    };
}
```

7. Подобно питоновским словарям, объекты также по умолчанию итерируемы по ключам.

```javascript
for (let key in book) {
    console.log(key + ": " + book[key]);
}
```

> **Примечание:** При задании ключей цифровые ключи подвержены сортировке по возрастанию.

8. В отличие от примитивных типов, объекты не копируются через оператор присваивания, а только копируют ссылку на себя (как и в Python).

```javascript
const book = { ... };
```

> При таком константном задании объекта, константа относится **только к ссылке на объект**, при этом на сам объект никак не влияет. Т.е. мы не можем только менять ссылку с объекта на что-либо другое.

9. Следующий момент. Сравнивая между собой два объекта, мы фактически сравниваем **значения ссылок**.

```javascript
console.log(book == lib);
console.log(book === lib);
```

> И эти равенства будут истинны только **в том случае, если указывают на один и тот же объект.**

10. А вот в этом случае получим `false`, так как значения ссылок указывают на разные объекты:

```javascript
let obj1 = {};
let obj2 = {};
console.log(obj1 == obj2);
console.log(obj1 === obj2);
```

11. При **других сравнениях** типа `obj1 > obj2` **или с примитивом** `obj == 5` объекты преобразуются к примитивным типам данных, а потом сравниваются: либо как строки, либо как числа, либо как булевы значения и так далее.
