#JS #DOM

# 17. События load, error, атрибуты async, defer

- Для всех элементов, имеющих атрибут **src**, генерируется событие `load` при завершении загрузки содержимого элемента.
- Для обработки ошибок можно использовать событие `error` следующим образом:

  ```javascript
  script.onerror = execute_error;
  ```

- Если необходимо загрузить какой-либо большой скрипт в середине документа, так чтобы его загрузка не препятствовала загрузке остальных элементов, то можно указать атрибут `defer`, который укажет браузеру загружать этот скрипт в фоне, параллельно с остальным документом.

  ```html
  <script defer src="js/ex2.js"></script>
  ```

- Такие скрипты выполняются только после завершения всего документа, но до генерации события `DOMContentLoaded`.
- Если в JavaScript-программе скрипт создается динамически, то он запускается в асинхронном режиме.

  ```javascript
  let script = document.createElement('script');
  
  script.src = "js/ex1.js";
  
  script.onload = execute;
  
  document.head.append(script);
  ```

- Атрибут `async` делает скрипт совершенно **независимым** от других скриптов, а также от события `DOMContentLoaded`, т.е. асинхронным.
