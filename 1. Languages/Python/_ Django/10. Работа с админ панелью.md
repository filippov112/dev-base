 #lang #lang-python


# 10. Работа с админ панелью

Админ панель поставляется сразу «в коробке» и доступна для нашего сайта по адресу:  
[http://127.0.0.1:8000/admin/](http://127.0.0.1:8000/admin/)

```python
LANGUAGE_CODE = 'ru'  # русский язык (файл settings.py)
```

#### Создание суперпользователя

Для создания суперпользователя используйте команду:
```bash
python manage.py createsuperuser
```
После этого в консоли вам нужно будет указать имя, почту и пароль.

#### Регистрация приложения (файл `admin.py`)

Импортируем модели приложения и регистрируем нужные:
```python
from .models import *  # импорт всех моделей приложения
admin.site.register(Women)  # регистрация модели Women
```

---

## Функционал по настройке админ панели

#### 1. Отображение записей на сайте

Админ панель использует перегрузку метода `get_absolute_url` (файл `models.py`, класс конкретной модели) для отображения записей таблиц на сайте.

---

#### 2. Переименование таблиц в админ панели

Файл `models.py`, класс конкретной модели:
```python
class Meta:
    verbose_name = 'Известные женщины'  # имя в единственном числе (запись)
    verbose_name_plural = 'Известные женщины'  # имя во множественном числе (таблица целиком)
    ordering = ['time_create', '-title']  # сортировка по полям (в порядке приоритета)
```
**Примечание:** Сортировка применяется непосредственно к базе данных.

---

#### 3. Переименование приложений в админ панели

Файл `apps.py`:
```python
class WomenConfig(AppConfig):  # при регистрации приложения в settings.py указывался этот класс
    name = 'women'
    verbose_name = 'Женщины мира'  # присваиваем своё название для админ панели
```

---

#### 4. Настройка отображения таблиц в админ панели

Файл `admin.py`:
```python
class WomenAdmin(admin.ModelAdmin):
    list_display = ('id', 'title', 'time_create', 'photo', 'is_published')  # отображаемые поля
    list_display_links = ('id', 'title')  # кликабельные поля
    search_fields = ('title', 'content')  # поиск по полям
    list_editable = ('is_published',)  # возможность редактирования
    list_filter = ('is_published', 'time_create')  # возможность фильтрации
```

Не забудьте зарегистрировать класс в админ панели так же, как и модели таблиц:
```python
admin.site.register(Women, WomenAdmin)  # регистрация модели с кастомной админ панелью
```

---

#### 5. Переименование полей таблиц

Файл `models.py`, класс модели:
```python
title = models.CharField(max_length=255, verbose_name="Заголовок")
```
Здесь `verbose_name="Заголовок"` — это альтернативное имя для отображения в админ панели.

