#Python #NumPy

# 7. Базовые математические операции над массивами

Предположим, имеется обычный список и массив, созданный на его основе:

```python
lst = [1, 2, 3]
a = np.array([1, 2, 3])
```

Умножим их на число 2:

```python
lst * 2      # список: [1, 2, 3, 1, 2, 3]
a * 2        # массив: array([2, 4, 6])
```

Таким образом, массивы позволяют быстро производить арифметические операции над элементами (`+`, `-`, `ун.-`, `*`, `/`, `**`, `%`, `//`) как при операциях с числами, так и с другими массивами (не по правилам линейной алгебры).  
(массивы должны быть согласованы по длине)
- Все операции выполняются построчно (по оси `axis 0`).
- При операции с двумя массивами они должны иметь одинаковые размеры представлений.

```
    123       123       000
    456   -   456   =   000
    789       789       000
```

Либо один операнд должен быть одномерным массивом с такой же длиной `axis 1`, что и у многомерного.

```
    123   -   123   =   000   (первый 3x3; второй 1x3)
    456               333
    789               666
```

В этом случае простой операнд прикладывается поочередно к каждому уровню оси `axis 0` второго — **ТРАНСЛИРОВАНИЕ МАССИВОВ**.

---

Деление на 0 дает `inf`.  
Умножение `inf` на 0 дает `nan` — *not a number* — не число — *ХЗ*.  
Любые операции над `nan` приводят к `nan`.

```python
np.isnan(a)     # проверка значения на nan или на inf
np.isinf(a)
```

С их помощью можно избавляться от таких значений в массивах:

```python
indx = np.isinf(b)  # пробиваем элементы массива b на соответствие isinf(), получаем массив результатов.
b[~indx]            # инвертируем результаты и, используя их как индексы, создаем массив по выборке.
```
