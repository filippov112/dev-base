#lang #lang-python 

# 11. Множества (unique) и операции над ними

Множества модуля NumPy - аналог множеств стандартной библиотеки Python (смотри `set`).  
Множества - это такой же массив, только с уникальными значениями.

---

Пусть есть массив:  
```python
a = np.array([1, 2, 3, 4, 4, 3, 2, 1])
```

Инициализация множества из другого объекта (например массива):  
```python
setA = np.unique(a)
```

---

## Функциональные особенности

- Получение уникальных элементов и их количество:  
  ```python
  setA = np.unique(a, return_counts=True)  
  # (array([1, 2, 3, 4]), array([2, 2, 2, 2]))
  ```

- Определение индексов первого вхождения уникальных элементов:  
  ```python
  setA = np.unique(a, return_index=True)  
  # (array([1, 2, 3, 4]), array([0, 1, 2, 3]))
  ```

- Восстановление исходного массива по индексам:  
  ```python
  setA = np.unique(a, return_inverse=True)  
  # (array([1, 2, 3, 4]), array([0, 1, 2, 3, 3, 2, 1, 0], dtype=int32))
  ```

---

Пусть есть массив:  
```python
x = np.array([[0, 1, 1, 2],[0, 1, 1, 2],[9, 1, 1, 2]])
```

- Получение уникальных элементов:  
  ```python
  np.unique(x)  
  # array([0, 1, 2, 9])
  ```

- Указание оси для перебора уникальных элементов:  
  ```python
  np.unique(x, axis=0)  
  # array([[0, 1, 1, 2],  
  #        [9, 1, 1, 2]])
  ```

---

Пусть есть 2 массива:  
```python
x = np.array([0, 1, 2, 3])  
y = np.array([1, 2, 3, 4, 5, 6, 7, 8])
```

- Проверка вхождения элементов первого операнда во второй:  
  ```python
  np.in1d(x, y)  
  # array([False,  True,  True,  True])
  ```

- Логическое перемножение множеств:  
  ```python
  np.intersect1d(x, y)  
  # array([1, 2, 3])
  ```

- Логическое сложение множеств:  
  ```python
  np.union1d(x, y)  
  # array([0, 1, 2, 3, 4, 5, 6, 7, 8])
  ```

- Логическое вычитание множеств:  
  ```python
  np.setdiff1d(y, x)  
  # array([4, 5, 6, 7, 8])
  ```

- Симметричная разность (XOR):  
  ```python
  np.setxor1d(x, y)  
  # array([0, 4, 5, 6, 7, 8])
  ```
