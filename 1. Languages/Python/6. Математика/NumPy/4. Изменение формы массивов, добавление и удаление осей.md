#lang #lang-python 

# 4. Изменение формы массивов, добавление и удаление осей

- `a.shape = -1, 2`  
  - `-1` - остаток (т.е. если 10 элементов, то будет (5, 2))

- `c = b.ravel()`  
  - возвращает одномерное представление массива

- `b.shape = -1`  
  - то же самое, но меняет текущее представление

- `a.resize(3, 3, refcheck=False)`  
  - может менять представление как `shape`, либо создавать новый массив через **НАЧАЛЬНОЕ ПРЕДСТАВЛЕНИЕ** с другим числом элементов. При этом старый массив сохранится, если на него есть ссылки.

**НАЧАЛЬНОЕ ПРЕДСТАВЛЕНИЕ**  
- то, с которым создавался массив, обладает правом на создание измененной копии массива через `resize`.

---

## Транспонирование матриц и векторов

- `a = x.T`  
  - операция транспонирования возвращает новое представление. Но если у массива только одна ось, то транспонирование не сработает.

---

## Добавление и удаление осей

- `b = np.expand_dims(a, axis=0)`  
  - добавляет новую ось, `axis` - индекс оси (возвращает новое представление)

- `a.append(b, axis=0)`  
  - добавление элемента `b` на ось `axis=0` (размерность `a` и `b` одинаковая)

- `a.delete(0, axis=0)`  
  - удаление элемента с оси `axis=0` с индексом 0

- `c.squeeze()`  
  - удаляет лишние оси (с одним элементом)

- `c.squeeze(axis=0)`  
  - удаление только одной оси (с одним элементом)

---

## Объект newaxis - альтернативное добавление осей

Пусть имеется одномерный массив...

```python
a = np.arange(1, 10)  # array([1, 2, 3, 4, 5, 6, 7, 8, 9])
```

Свойство `newaxis` позволяет добавлять новые оси при помощи среза.

```python
b = a[np.newaxis, :]  # добавление оси axis0
```

После чего `b` будет ссылаться уже на двумерное представление.

```python
b.shape  # (1, 9)
```

Или так...

```python
c = a[np.newaxis, :, np.newaxis]
```

```python
c.shape  # (1, 9, 1)
```
