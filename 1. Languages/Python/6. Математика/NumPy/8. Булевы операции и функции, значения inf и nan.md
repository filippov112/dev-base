#Python #NumPy

# 8. Булевы операции и функции, значения inf и nan

## Сравнения

Мы можем сформировать массив индексов путем какой-либо булевой операции над массивом. В этом случае все элементы массива перебираются на соответствие условию, и на основе проверок формируется массив с результатами.

```python
i = a > 5  # array([False, False, False, False, False,  True,  True,  True])  - остаются элементы, которые > 5
a[i]       # array([6, 7, 8])
a[a > 5]   # то же самое в одну строчку
```

Могут использоваться любые операции сравнения. А также могут сравниваться как массивы-числа, так и массивы-массивы (поэлементно).
- `np.array_equal(a, b)`  — возвращает конечный результат сравнения на равенство.
- `np.any(a > 5)`  — возвращает любой положительный результат попарного сравнения элементов массивов (или False в противном случае).
- `np.all(a > 5)`  — возвращает абсолютный результат сравнения элементов (все элементы больше 5 и False, если хоть одна пара не соответствует).

Вместо операторов сравнения можно использовать и специальные функции (нечастая практика):
- `np.greater(a, b)`  — выполняет сравнение a > b;
- `np.less(a, b)`  — выполняет сравнение a < b;
- `np.equal(a, b)`  — выполняет сравнение a == b.

---

## Бесконечность и нечисла

Особенности по работе с `inf` и `nan` смотри в 7 уроке.
Дополнительные функции проверок:

```python
# для массива b = np.array([1, 2, np.nan, np.inf, -np.inf])
np.isfinite(b)  # array([ True,  True, False, False, False])  - проверка на конечные числа

# для массива a = np.array([1+2j, 3-4j, 5])
np.iscomplex(a)  # array([ True,  True, False])  - проверка на комплексные

np.isreal(b)  # array([ True,  True,  True,  True,  True])  - проверка на действительные (в т.ч. nan, inf)
```

---

## Логическая арифметика

```python
X = np.array([True, False, True, False])
Y = np.array([True, True, False, False])

np.logical_and(X, Y)     # логическое *      [ True False False False]
np.logical_or(X, Y)      # логическое +      [ True  True  True False]
np.logical_not(X)        # логическое ун.-   [False  True False  True]
np.logical_xor(X, Y)     # XOR: -экв.       [False  True  True False]
```

Все те же операции можно проводить и с числовыми значениями, полагая, что 0 — это False, а любое другое число — True.
