#lang #lang-python 

# 12. Транслирование массивов

**ТРАНСЛИРОВАНИЕ МАССИВОВ** - один операнд должен быть одномерным массивом с такой же длиной `axis1`, что и у многомерного.

```
   123   -   123   =   000   (первый 3x3; второй 1x3)
   456              333
   789              666
```

В этом случае простой операнд прикладывается поочередно к каждому уровню оси `axis0` второго.

---

1. Если массивы имеют разное число осей (размерностей), то к массиву с меньшим их числом добавляются новые так, чтобы размерности совпадали. (Причем, добавление всегда происходит с оси `axis0`).
2. Оси с одним элементом расширяются (по числу элементов) так, чтобы соответствующие размерности двух массивов совпадали.

**Примечание:** Количество осей в результате соответствует их максимальному числу в операндах.
*Частный случай операции массив-число затрагивает сразу оба правила.*

---

Для подгонки двух многомерных массивов модуль может: 
1. Смещать схему представления по осям.
2. Умножать одиночные оси.

---

### Более сложный случай:
Пусть есть 2 массива...

```python
a = np.arange(6).reshape(3, 1, 2)  # (3 x 1 x 2)
b = np.ones(4).reshape(2, 2)       # (2 x 2)
```

То при операции с их взаимодействием...

```python
a * b  # массив размерностью (3, 2, 2)
```

Согласно правилу 1):
- `a`:  3 x (2) x 2 — удвоение второй оси.
- `b`: (3) x  2 x 2 — смещение и утроение первой оси.

---

```python
a = np.array([1, 2, 3])
b = np.array([4, 5])
c = np.array([7, 8, 9, 10])

an, bn, cn = np.ix_(a, b, c)  # преобразует группу одномерных массивов (векторов),
                               # распределяя их по разным осям для множественных операций над группой.

# Например:
an * bn + cn  # массив 3x2x4
```
