#lang #lang-python 

# Контекст запроса и приложения

Когда сервер получает запрос от клиента, то сначала **МОЖЕТ** быть создан контекст приложения (КП),  
а затем **ОБЯЗАТЕЛЬНО** создается контекст запроса (КЗ), который и является фактически представлением  
(обработчиком) текущего запроса.

С КП связаны две глобальные переменные: `g` и `current_app`
- **g** — сохраняет общую временную (на время обработки запроса) пользовательскую информацию,  
  необходимую для обработки запросов.
- **current_app** — ссылается на текущее приложение, активизированное для  
  соответствующего запроса. В условии нескольких приложений.

КЗ создается всегда и обязательно после КП.

С КЗ связаны две другие глобальные переменные: `request` и `session`
- **request** — содержит данные, связанные с запросом, включая текущий URL.  
  Часто это данные GET-запроса в формате: ключ-значение. Но могут быть  
  и более сложные. Доступна везде в пределах текущего потока (КП + КЗ), а также в шаблонах.  
  Исчезает, когда обработка запроса завершается.
- **session** — словарь, в котором можно сохранять данные в пределах сессии.  
  В отличие от других переменных, сессия сохраняется между запросами, но уникальна для каждого источника запроса.  
  Не исчезает какое-то время после обработки запроса.


