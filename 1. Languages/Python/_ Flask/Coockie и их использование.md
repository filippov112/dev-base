#lang #lang-python 

# Cookies и их использование

С помощью функции `make_response` можно передавать информацию для cookies браузера, то есть, информация, которая будет храниться в браузере клиента и передаваться серверу при каждом очередном запросе к нашему сайту.

Чтобы работать с cookies через объект ответа, используется функция:

```python
set_cookie(key, value="", max_age=None)
```

- **key** – название куки;
- **value** – данные, которые сохраняются в cookies под указанным ключом;
- **max_age** – необязательный аргумент, указывающий предельное время хранения данных cookies в браузере клиента (в секундах). Если время не указывается, то куки пропадут при закрытии браузера.

### Пример:

```python
@app.route("/login")
def login():
    log = ""
    if request.cookies.get('logged'):  # при первом заходе на страницу куки logged отсутствует
        log = request.cookies.get('logged')
    res = make_response(f"<h1>Форма авторизации</h1>logged: {log}")
    res.set_cookie("logged", "yes")  # устанавливаем какие значения куки будут отправляться
    return res  # браузеру при заходе на страницу
                # при повторном заходе будут проверяться хранимые куки и
                # те отразятся на странице.

```

Для удаления куки достаточно установить в сеттере ограничение по времени на 0.
