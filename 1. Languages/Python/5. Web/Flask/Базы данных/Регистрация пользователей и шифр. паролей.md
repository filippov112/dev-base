#Python #Flask #db

# Регистрация пользователей и шифрование паролей

### Соединение с БД через перехват запроса

```python
dbase = None

@app.before_request
def before_request():
    """Установление соединения с БД перед выполнением запроса"""
    global dbase
    db = get_db()
    dbase = FDataBase(db)
```

---

### Шифрование данных во Flask

Для шифрования данных используются функции из библиотеки `werkzeug.security`:

- `generate_password_hash()` – выполняет кодирование строки данных по стандарту **PBKDF2**;
- `check_password_hash()` – выполняет проверку указанных данных на соответствие хеша.

```python
from werkzeug.security import generate_password_hash, check_password_hash
```

---

### Пример использования

Чтобы закодировать пароль, можно выполнить следующую команду:

```python
hash = generate_password_hash("12345")
```

> В переменной `hash` будет храниться зашифрованный пароль.

Для проверки пароля используется функция:

```python
check_password_hash(hash, "12345")
```

> Если пароли совпадают, функция вернет **True**, иначе – **False**.
