#Python

# Работа с файлами в Python

```python
open(file, mode='r', encoding=None, ...) # Открытие файла
# file — путь к файлу вместе с именем.
# mode — режим доступа к файлу.
# encoding — кодировка файла.

file = open("my_file.txt", "w")

print(file.read()) # чтение всего файла
file.write("Some text") # запись
file.writelines(["a", "b", "c"]) # запись построчно

file.close() # Закрытие файла

with open("my_file.txt", "r") as file: # Контекстный менеджер сам закрывает файл после завершения блока.
    data = file.read()

```

```python
import pickle

pickle.dump(books, file)  # Запись объекта в файл
books = pickle.load(file)  # Чтение объекта из файла
```

**Пример адресов:**
- `"file.txt"` — в той же папке, что и программа.
- `"images/img.txt"` — в папке `images`, которая находится в той же папке, что и программа.
- `"../out.txt"` — в папке, которая находится на уровень выше той, где находится программа.
- `"d:/app/images/img.txt"` — полный адрес. Универсальный вариант.

**Примеры режимов открытия:**
- `"r"` — чтение (read).
- `"w"` — запись (write), с предварительной очисткой файла либо созданием нового файла.
- `"x"` — запись (выдаёт исключение, если файл уже существует).
- `"a"` — дозапись (append) в конец файла.
*Дополнительные режимы:*
- `"b"` — бинарный режим доступа к файлу (требует подключения модуля `pickle`).
- `"t"` — текстовый режим (по умолчанию).
- `"+"` — чтение и запись одновременно.
*Примеры режимов:*
- `"rt"` — текстовый режим чтения.
- `"wb"` — бинарный режим записи.
- `"a+"` — добавление с возможностью чтения.

**Примеры кодировок:**
- `Windows-1251`
- `utf-8`


#### Методы
- `read(3)` — возвращает всё содержимое файла. Можно указать количество символов для чтения. Повторное чтение продолжается с места остановки (позиция курсора).
- `file.seek(0)` — перемещает курсор (file position) на указанное место.
- `file.tell()` — возвращает текущую позицию курсора (в байтах, а не в символах: для `Windows-1251` 1 символ = 1 байт, для `utf-8` 1 символ = 2 байта).
- `file.readline()` — возвращает одну строку файла (включая символ переноса, если он есть).
- `file.readlines()` — возвращает содержимое файла в виде списка строк.
- `file.closed` — проверяет статус закрытия файла.
