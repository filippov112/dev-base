#lang #lang-python 

# 3. Создание меню

Для его создания используются три класса:
- **MenuBar** – для создания панели меню;
- **Menu** – для создания вкладки меню;
- **MenuItem** – для создания отдельного пункта.

```python
class MyFrame(wx.Frame):
    def __init__(self, parent, title):
        super().__init__(parent, -1, title)

        menubar = wx.MenuBar()  # создание панели
        fileMenu = wx.Menu()    # создание вкладки
        item = wx.MenuItem(fileMenu, APP_EXIT, "Выход", "Выход из приложения")  # создание пункта

        fileMenu.Append(item)                          # соединение вкладки с пунктом
        menubar.Append(fileMenu, "&File")             # соединение панели с вкладкой (задаем имя вкладки; & - вызов вкладки через Alt)
        self.SetMenuBar(menubar)                       # вставляем панель во фрейм
```

---
### Пояснение за `item`
- **fileMenu** – родительская вкладка
- **APP_EXIT** – id элемента (`APP_EXIT = 1` — наша переменная)
- **Выход** – название пункта
- **"Выход\tCtrl+Q"** – через табуляцию можно задавать пользовательские комбинации
- **Выход из приложения** – описание (не обязательно)

---
Создание и добавление пунктов можно объединить в одну строчку:

```python
item = fileMenu.Append(APP_EXIT, "Выход", "Выход из приложения")
```

---
### Связка с обработчиком

- Все инициализации и связывания происходят в конструкторе класса.
- Обработчики событий прописываются в классе отдельно от конструктора.

```python
def onQuit(self, event):
    self.Close()
```

`event` — обязательный параметр, который будет ссылаться на объект события. Через него можно получать дополнительную информацию о том, что произошло.

```python
self.Bind(wx.EVT_MENU, self.onQuit, item)               # наследуется почти всеми классами wxPython
self.Bind(wx.EVT_MENU, self.onQuit, id=APP_EXIT)        # лучше связывать по id, чтобы не зависеть от имени переменной
```

---
При инициализации собственных `id` вне тела класса удобно использовать класс `NewIdRef()`. Он создает уникальный id, доступ к которому можно получить через метод `GetId()`.

```python
APP_EXIT = wx.NewIdRef()
self.Bind(wx.EVT_MENU, self.onQuit, id=APP_EXIT.GetId())
```

---
### Метод `Bind()`

`Bind(event, handler, source=None)`
- **event** – тип события, связанный с определенным интерфейсным объектом; (событие-триггер)
- **handler** – ссылка на функцию-обработчик; (обработчик, которому направляется событие через `event`)
- **source** – источник, генерирующий событие. (условие активации обработчика)
