#lang #lang-python 

# 13. Работа с графикой

Процесс рисования осуществляется через контекст устройства (device context), сокращенно по-английски DC. 
И wxPython поддерживает следующие основные их разновидности:

- **wx.MemoryDC** – контекст памяти (рисование в объекте Bitmap, расположенном в памяти устройства);
- **wx.PrinterDC** – контекст принтера (для ОС Windows и Mac);
- **wx.ScreenDC** – контекст экрана устройства (рисование на экране без привязки к окну);
- **wx.ClientDC**, **wx.PaintDC** – рисование в клиентской области окна;
- **wx.WindowDC** – рисование во всем окне.

---

## wx.ClientDC

`wx.CallLater(100, self.onDraw)` — вызываем обработчик процесса рисования с помощью автовызова с задержкой 100 мс.

```python
def onDraw(self):			
    dc = wx.ClientDC(self)  # создаем контекст устройства
    dc.DrawLine(0, 0, 200, 100)  # отрисовываем линию (координаты начала и конца) в контексте
```

> **Важно:** При обновлении (перерисовке) кадра такое изображение не отрисуется заново. 
> Генерация `ClientDC` возможна только после отрисовки клиентской области окна приложения. 
> Из-за этого невозможно точно предсказать правильную задержку до вызова обработчика. 
> Это плохой способ отрисовки.

---

## wx.PaintDC

`self.Bind(wx.EVT_PAINT, self.OnPaint)` — при необходимости перерисовки кадра приложение генерирует соответствующее событие.

```python
def OnPaint(self, e):
    dc = wx.PaintDC(self)  # в момент возникновения события EVT_PAINT контекст PaintDC создается автоматически
    # (не тратится время на создание и удаление контекста устройства)
    dc.DrawLine(50, 60, 190, 60)
```
