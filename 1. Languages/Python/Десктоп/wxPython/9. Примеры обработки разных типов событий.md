#Python #wxPython

# 9. Примеры обработки разных типов событий

---

### wx.EVT_MOTION - движение курсора

```python
def OnMove(self, event):
    x, y = event.GetPosition()
    self.x.SetLabel('x: ' + str(x))
    self.y.SetLabel('y: ' + str(y))
```

---

### wx.EVT_PAINT - возникает при перерисовке окна или его отдельного элемента.

```python
def OnPaint(self, event):
    print("событие EVT_PAINT")  # событие возникает каждый раз при разворачивании окна
                                  # или скрытии (возвращении) за краем рабочего стола
    dc = wx.PaintDC(self)
    dc.DrawLine(0, 0, 100, 100)  # рисуем линию
```

---

### wx.EVT_SET_FOCUS - срабатывают в момент получения элементом фокуса
### wx.EVT_KILL_FOCUS - и в момент его потери.

```python
self.t1 = wx.TextCtrl(self)
t1.Bind(wx.EVT_SET_FOCUS, self.OnSetFocus)
t1.Bind(wx.EVT_KILL_FOCUS, self.OnKillFocus)

def OnSetFocus(self, event):
    event.GetEventObject().SetBackgroundColour("#FFFFE5")
    event.Skip()
```

- Все обработчики событий фокуса должны заканчиваться сохранением события, для корректной работы стандартных обработчиков этого типа объекта.

- Через `GetEventObject` можно получить ссылку на объект, от которого пришло событие.

```python
def OnKillFocus(self, event):
    event.GetEventObject().SetBackgroundColour("#fff")
    event.Skip()
```

---

### wx.EVT_KEY_DOWN - срабатывают при нажатии и отпускании клавиши на клавиатуре.
### wx.EVT_KEY_UP

```python
def OnKeyDown(self, e):
    key = e.GetKeyCode()  # сохраняем нажатую клавишу
    if key == wx.WXK_ESCAPE:  # проверяем на escape
        ret = wx.MessageBox('Вы действительно хотите выйти из программы?', 'Вопрос', 
                            wx.YES_NO | wx.NO_DEFAULT, self)  # делаем запрос через окно сообщения

        if ret == wx.YES:  # обрабатываем результат
            self.Close()
```
