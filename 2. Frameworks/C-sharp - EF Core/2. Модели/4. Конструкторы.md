#lang #lang-c_sharp #efcore 

---
По умолчанию EF Core использует **конструктор без параметров**, затем устанавливает свойства значениями из БД.  
Если найден **конструктор с параметрами**, соответствующими свойствам сущности, EF Core использует его вместо **прямого присвоения** значений.  

```csharp
public class User
{
    public int Id { get; set; }
    public string Name { get; set; }
    public int Age { get; set; }

    public User(string name, int age)  // Конструктор с параметрами
    {
        Name = name;
        Age = age;
    }
}
```  

```csharp
// Добавление данных
using (var db = new ApplicationContext())
{
    db.Users.Add(new User("Tom", 37));
    dbлучение данных (EF Core вызовет конструктор User(string name, int age))
var us.SaveChanges();
}

// Поers = db.Users.ToList();  // Вывод: "Вызов конструктора для объекта Tom"
``` 

#### **Правила:**  

  - Имена и типы параметров должны совпадать с именами и типами свойств (регистр не учитывается).  
  - Не все свойства обязаны быть в конструкторе (например, `Id` может отсутствовать).  
  - Конструктор может иметь любой модификатор доступа (даже `private`).  
- **Навигационные свойства** не устанавливаются через конструктор.  
  ```csharp
  public Company? Company { get; set; }  // Навигационное свойство (не участвует в конструкторе)
  ```  
- **Несколько конструкторов**: EF Core выберет наиболее подходящий (с максимальным числом параметров, соответствующих свойствам).  
  ```csharp
  public User(string name) { ... }       // Вариант 1
  public User(string name, int age) { }  // Вариант 2 (будет выбран при наличии данных)
  ```  
 
---
### Outer links:
https://metanit.com/sharp/efcore/2.10.php