#lang #lang-c_sharp #efcore

---
**Модель** – это набор сущностей (классов C#) и связей между ними, которыми управляет контекст данных (`DbContext`).  
*Соглашения (Conventions)* – ряд условностей для сопоставления классов с таблицами.

Для расширения возможностей конфигурации можно использовать:  

1. **Аннотации данных**: – атрибуты над свойствами и классами.  
   - Простота использования
   - Минимальный код
   - Меньшая гибкость

2. **Fluent API** – гибкое программируемое конфигурирование через методы.  
   - Более мощный и гибкий
   - Позволяет выносить всю конфигурацию в один файл
   - Поддерживает более сложные сценарии
---
#### **Fluent API**  
Позволяет настраивать сопоставление классов и свойств с таблицами и столбцами через методы.  
Настройка выполняется в методе `OnModelCreating()` контекста данных.  

```csharp
public class ApplicationContext : DbContext
{
	//...
    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        // использование Fluent API
        base.OnModelCreating(modelBuilder);
    }
}
```  
---
#### **Аннотации данных**  
Атрибуты из пространства имен `System.ComponentModel.DataAnnotations`.  
Позволяют задавать правила сопоставления прямо в классе сущности.  

```csharp
using System.ComponentModel.DataAnnotations.Schema;  

public class User  
{  
    [Column("user_id")]  // Сопоставление со столбцом "user_id"  
    public int Id { get; set; }  
    public string? Name { get; set; }  
    public int Age { get; set; }  
}  
```  

---
### Outer links:
https://metanit.com/sharp/efcore/2.1.php