#lang #lang-c_sharp #efcore 

---
#### **Отслеживаемые запросы (Tracking Queries)**  
- Включены по умолчанию.  
- **Если объект уже есть в контексте**: возвращается существующий объект.  
- **Если объекта нет в контексте**:  
  - Создается новый объект.  
  - Добавляется в контекст.  
  - Начинает отслеживаться (изменения сохраняются при вызове `SaveChanges()`).  

```csharp
// `user1` и `user2` ссылаются на один объект в контексте.  
var user1 = db.Users.FirstOrDefault();  
var user2 = db.Users.FirstOrDefault();  
user1.Name = "Bob";  
Console.WriteLine(user2.Name); // "Bob"  
```  

---
#### **Неотслеживаемые запросы (No-Tracking Queries)**  
- [7. Отслеживание объектов и AsNoTracking](2.%20Frameworks/C-sharp%20-%20EF%20Core/5.%20Запросы%20и%20LINQ/7.%20Отслеживание%20объектов%20и%20AsNoTracking.md)
- **Всегда создает новый объект**, не добавляет его в контекст.  
- Изменения не отслеживаются.  

```csharp
// `user1` и `user2` — разные объекты.  
var user1 = db.Users.FirstOrDefault();  
var user2 = db.Users.AsNoTracking().FirstOrDefault();  
user1.Name = "Bob";  
Console.WriteLine(user2.Name); // "Tom"  
```  

---
### Outer links:
https://metanit.com/sharp/efcore/5.8.php