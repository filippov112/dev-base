#lang #lang-c_sharp #efcore 

---
**Null-проверки (`!` оператор):** Если навигационное свойство может быть `null`, компилятор выдаст предупреждение. Решение: использовать `!` (например, `c!.Country`).  

---
#### 1. `Include`
Указывает загружать связанные данные вместе с основной сущностью.  
Преобразуется в `LEFT JOIN`.  

```csharp
var users = db.Users
    .Include(u => u.Company)  // Загружаем связанные компании
    .ToList();
```  
Если у сущности несколько навигационных свойств, каждое загружается отдельным `Include`:  
```csharp
var users = db.Users
    .Include(u => u.Company)  // Компания пользователя
    .Include(u => u.Position) // Должность пользователя
    .ToList();
```  

---
#### 2. `ThenInclude`  
Если структура сложная (например, `User → Company → Country`), используется `ThenInclude`:  

```csharp
var users = db.Users
    .Include(u => u.Company)      // Загружаем компанию
        .ThenInclude(c => c!.Country)  // Загружаем страну компании
    .ToList();
```  

---
#### 3. Альтернативный синтаксис (без `ThenInclude`)  
Можно использовать цепочку свойств:  
```csharp
.Include(u => u.Company!.Country)
```

---
### Outer links:
https://metanit.com/sharp/efcore/3.3.php