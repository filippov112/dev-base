#lang #lang-c_sharp #aspnet

---
#### 1. Файлы по умолчанию
`UseDefaultFiles()` - сопоставляет корневой маршрут (`/`) с файлами с именами: `default.htm`, `default.html`, `index.htm`, `index.html`
```csharp
app.UseDefaultFiles();  // поддержка страниц html по умолчанию
```

Если требуются файлы с другими названиями, то заполняем словарь `DefaultFilesOptions` и отдаем его параметром в `UseDefaultFiles()`:
```csharp
DefaultFilesOptions options = new DefaultFilesOptions();
options.DefaultFileNames.Clear(); // удаляем имена файлов по умолчанию
options.DefaultFileNames.Add("hello.html"); // добавляем новое имя файла
app.UseDefaultFiles(options); // установка параметров
```

---
#### 2. Просмотр каталогов
`UseDirectoryBrowser()` - позволяет пользователям просматривать содержимое каталога статических файлов.
Можно в параметрах указать конкретный каталог и маршрут для обращения к нему:
```csharp
app.UseDirectoryBrowser(
	new DirectoryBrowserOptions()
	{
	    FileProvider = new PhysicalFileProvider(
		    Path.Combine(
			    Directory.GetCurrentDirectory(), 
			    @"wwwroot\html"
			)
		),
	    RequestPath = new PathString("/pages")
	}
);
```

---
#### 3. Сопоставление маршрутов с каталогами файлов
На подобие сопоставления для просмотра каталогов, можно указывать маршруты и для `UseStaticFiles()`:
```csharp
app.UseStaticFiles(new StaticFileOptions() // обрабатывает запросы к каталогу wwwroot/html
{
    FileProvider = new PhysicalFileProvider(
            Path.Combine(Directory.GetCurrentDirectory(), @"wwwroot\html")),
    RequestPath = new PathString("/pages")
});
```

---
#### Метод UseFileServer
Объединяет возможности всех предыдущих методов расширений.
По умолчанию позволяет *обрабатывать статические файлы* и отправлять *файлы по умолчанию*.
Также настраивается:
```csharp
app.UseFileServer(new FileServerOptions
{
    EnableDirectoryBrowsing = true,
    FileProvider = new PhysicalFileProvider(Path.Combine(Directory.GetCurrentDirectory(), @"wwwroot\html")),
    RequestPath = new PathString("/pages"),
    EnableDefaultFiles = false
});
```

### Outer links:
https://metanit.com/sharp/aspnet6/5.2.php