#lang #lang-c_sharp #aspnet

---
Все добавляемые в коллекцию сервисов приложения зависимости можно получить через параметры делегата, который отвечает за обработку запроса.

```csharp
var builder = WebApplication.CreateBuilder();
 
builder.Services.AddTransient<TimeService>();   // Добавляем сервис
 
var app = builder.Build();
app.Map("/time", SendTime);
app.Map("/", () => "Hello METANIT.COM");
app.Run();
 
string SendTime(TimeService timeService) // обработчик
{
    return $"Time: {timeService.Time}";
}


public class TimeService // сервис
{
    public string Time  =>  DateTime.Now.ToLongTimeString();
}
```

### Outer links:
https://metanit.com/sharp/aspnet6/3.5.php