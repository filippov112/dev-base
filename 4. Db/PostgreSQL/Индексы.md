#db #db-postgre
 
---
### **<font color="#ffff00">B-Tree –∏–Ω–¥–µ–∫—Å</font>**
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤ PostgreSQL, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤ –≤–∏–¥–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ (B-Tree). –£—Å–∫–æ—Ä—è–µ—Ç –ø–æ–∏—Å–∫, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É, –¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ `=`, `>`, `<`, `BETWEEN`.
- –î–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (`ORDER BY`).
- –î–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (`JOIN`).

```sql
-- –ó–∞–ø—Ä–æ—Å —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å—é —Ç–∞–±–ª–∏—Ü—É –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ ID
SELECT * FROM users WHERE user_id = 12345;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ B-Tree –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ `user_id` —É—Å–∫–æ—Ä–∏—Ç –ø–æ–∏—Å–∫.
```sql
CREATE INDEX idx_users_user_id ON users (user_id);
```
---

### **<font color="#ffff00">–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (Unique Index)</font>**
–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Å—Ç–æ–ª–±—Ü–µ.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.
- –ï—Å–ª–∏ –ø–æ–ª–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

```sql
-- –í—Å—Ç–∞–≤–∫–∞ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è email, –µ—Å–ª–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∞
INSERT INTO users (id, email) VALUES (1, 'test@example.com');
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã.
```sql
CREATE UNIQUE INDEX idx_users_email ON users (email);
```
---

### **<font color="#ffff00">GIN (Generalized Inverted Index)</font>**
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –º–∞—Å—Å–∏–≤–∞–º, JSONB, `tsvector` (–ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫).

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è `ARRAY`, `JSONB`.
- –î–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞.

```sql
-- –ü–æ–∏—Å–∫ –ø–æ JSONB —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã
SELECT * FROM products WHERE attributes @> '{"color": "red"}';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** GIN-–∏–Ω–¥–µ–∫—Å —É—Å–∫–æ—Ä–∏—Ç –∑–∞–ø—Ä–æ—Å.
```sql
CREATE INDEX idx_products_attributes ON products USING GIN (attributes);
```
---

### **<font color="#ffff00">GiST (Generalized Search Tree)</font>**
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ, –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –∏ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è `geometry`, `geography` (`PostGIS`).
- –î–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º.

```sql
-- –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
SELECT * FROM locations WHERE ST_Distance(geo, ST_MakePoint(55.75, 37.61)) < 5000;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** GiST-–∏–Ω–¥–µ–∫—Å —É—Å–∫–æ—Ä–∏—Ç –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã.
```sql
CREATE INDEX idx_locations_geo ON locations USING GIST (geo);
```
---

### **<font color="#ffff00">BRIN (Block Range INdex)</font>**
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –±–ª–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö. –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è —Å—Ç–æ–ª–±—Ü–æ–≤ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞—Ç—ã).

```sql
-- –ü–æ–ª–Ω—ã–π —Å–∫–∞–Ω —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –¥–∞—Ç–µ
SELECT * FROM logs WHERE created_at >= '2024-01-01';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** BRIN-–∏–Ω–¥–µ–∫—Å —É—Å–∫–æ—Ä–∏—Ç —Ä–∞–±–æ—Ç—É —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ä—è–¥–∞–º–∏.
```sql
CREATE INDEX idx_logs_created_at ON logs USING BRIN (created_at);
```
---

### **<font color="#ffff00">Hash Index</font>**
–°–æ–∑–¥–∞–µ—Ç —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–æ—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é `=`.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –¢–æ–ª—å–∫–æ –¥–ª—è `=` (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `BETWEEN`, `>`, `<`).

```sql
-- –ü–æ–∏—Å–∫ –ø–æ —Ç–æ—á–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞
SELECT * FROM users WHERE email = 'user@example.com';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –•–µ—à-–∏–Ω–¥–µ–∫—Å —É—Å–∫–æ—Ä–∏—Ç —Ç–æ—á–Ω—ã–π –ø–æ–∏—Å–∫.
```sql
CREATE INDEX idx_users_email_hash ON users USING HASH (email);
```
---

### **<font color="#ffff00">–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (Expression Index)</font>**
–°–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å –Ω–∞ –≤—ã—á–∏—Å–ª—è–µ–º–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `LOWER(name)`).

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è.

```sql
-- –ü–æ–∏—Å–∫ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è LOWER() –∫–æ –≤—Å–µ–º –∑–∞–ø–∏—Å—è–º
SELECT * FROM users WHERE LOWER(name) = 'john';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —É—Å—Ç—Ä–∞–Ω–∏—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ –ª–µ—Ç—É.
```sql
CREATE INDEX idx_users_lower_name ON users (LOWER(name));
```
---

### **<font color="#ffff00">–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å (Partitioned Index)</font>**
–°–æ–∑–¥–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—Ç–∏—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü—ã.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –ø–∞—Ä—Ç–∏—Ü–∏–∏ (`PARTITION BY`).

```sql
-- –ü–æ–∏—Å–∫ –≤ –æ–≥—Ä–æ–º–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –¥–∞–Ω–Ω—ã–µ –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç
SELECT * FROM orders WHERE order_date BETWEEN '2024-01-01' AND '2024-12-31';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ –ø–∞—Ä—Ç–∏—Ü–∏–∏ —É—Å–∫–æ—Ä–∏—Ç –∑–∞–ø—Ä–æ—Å.
```sql
CREATE INDEX idx_orders_date ON orders PARTITION BY RANGE (order_date);
```

### **<font color="#ffff00">–ö–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å (Clustered Index, –Ω–æ –Ω–µ –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º —Å–º—ã—Å–ª–µ)</font>**
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç MS SQL Server, –≤ PostgreSQL **–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è** –Ω–µ –¥–µ–ª–∞–µ—Ç –∏–Ω–¥–µ–∫—Å —á–∞—Å—Ç—å—é —Ç–∞–±–ª–∏—Ü—ã, –Ω–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –∏–Ω–¥–µ–∫—Å–∞.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–¥–∫–æ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –∏ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Å `ORDER BY` –ø–æ –∫–ª—é—á—É.

```sql
-- –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –Ω–∞ —ç—Ç–∞–ø–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —á—Ç–æ –∑–∞–º–µ–¥–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É
SELECT * FROM orders ORDER BY created_at;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `CLUSTER`.
```sql
CREATE INDEX idx_orders_created_at ON orders (created_at);
CLUSTER orders USING idx_orders_created_at;
```
---

### **<font color="#ffff00">Covering Index (–ò–Ω–¥–µ–∫—Å —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏)</font>**
–î–æ–±–∞–≤–ª—è–µ—Ç –≤ –∏–Ω–¥–µ–∫—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã (`INCLUDE`), —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Ç–∞–±–ª–∏—Ü–µ.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å—ã, –Ω–æ —Ç—è–Ω–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã (`Index Scan + Heap Fetch`).

```sql
-- –ò–Ω–¥–µ–∫—Å –Ω–∞ customer_id –µ—Å—Ç—å, –Ω–æ OrderDate –∏ OrderAmount —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
SELECT customer_id, order_date, order_amount FROM orders WHERE customer_id = 12345;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `INCLUDE` —É—Å–∫–æ—Ä–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
```sql
CREATE INDEX idx_orders_customer_id ON orders (customer_id) INCLUDE (order_date, order_amount);
```
---

### **<font color="#ffff00">RUM (–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π GIN –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞)</font>**
–£–ª—É—á—à–∞–µ—Ç –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫, –ø–æ–∑–≤–æ–ª—è—è –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ–≤ –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Å `ORDER BY ts_rank(...) DESC`.

```sql
-- –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
SELECT * FROM articles WHERE to_tsvector('english', content) @@ to_tsquery('database') 
ORDER BY ts_rank(to_tsvector('english', content), to_tsquery('database')) DESC;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ RUM –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ORDER BY ts_rank`.
```sql
CREATE EXTENSION rum;
CREATE INDEX idx_articles_content_rum 
ON articles USING rum (to_tsvector('english', content));
```
---

### **<font color="#ffff00">SP-GiST (Space-Partitioned Generalized Search Tree)</font>**
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –æ—Å–æ–±–µ–Ω–Ω–æ `POINT`, `BOX`, `TEXT`.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º–∏ –∏–ª–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

```sql
-- –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–π —Ç–æ—á–∫–∏ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ
SELECT * FROM locations WHERE point <@ box '(1,1),(10,10)';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** SP-GiST-–∏–Ω–¥–µ–∫—Å —É—Å–∫–æ—Ä–∏—Ç —Ç–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã.
```sql
CREATE INDEX idx_locations_spgist ON locations USING spgist (point);
```
---

### **<font color="#ffff00">Bloom Index (–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π, –¥–ª—è –º–Ω–æ–≥–æ–∫–æ–ª–æ–Ω–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤)</font>**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Bloom-—Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è –∏–Ω–¥–µ–∫—Å–æ–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—Ç–æ–ª–±—Ü–∞–º–∏.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–ª–æ–Ω–æ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–∞.

```sql
-- –ó–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–æ–Ω–æ–∫ –≤ WHERE, –Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω
SELECT * FROM orders WHERE customer_id = 123 AND order_status = 'Shipped';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** Bloom-–∏–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
```sql
CREATE EXTENSION bloom;
CREATE INDEX idx_orders_bloom ON orders USING bloom (customer_id, order_status);
```

