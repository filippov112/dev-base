 

# Системы обмена сообщениями

**Системы обмена сообщениями** — это ПО для передачи данных между приложениями (компонентами) в распределённых системах. 
Организуют асинхронное взаимодействие *отправителя* и *получателя* сообщения. 

> **Механизм Pub/Sub** («Publisher/Subscriber») — это архитектурный шаблон передачи сообщений, при котором *отправители* (издатели) и *получатели* (подписчики) обмениваются сообщениями через *посредника* (брокера сообщений). 
> 1. Издатель создаёт сообщение и отправляет его в определённый топик (канал).
> 2. Брокер сообщений получает это сообщение и распределяет его между всеми подписчиками, которые подписаны на данный топик.
> 3. Подписчики получают сообщения из тех топиков, на которые они оформили подписку.
> 
> #### Преимущества:
> - **Масштабируемость:** Возможность легко добавлять новых издателей и подписчиков без изменения существующей системы.
> - **Гибкость:** Компоненты системы могут развиваться независимо друг от друга.
> - **Надёжность:** *Брокер сообщений* может обеспечивать гарантированную доставку сообщений и управлять очередями.
> - **Асинхронность:** Компоненты не обязаны работать в одном временном контексте, что повышает общую производительность системы.

---

### **Как использовать Redis Pub/Sub:**

1. **Подписка на канал:** Клиент, желающий получать сообщения из определённого канала, выполняет команду `SUBSCRIBE` с указанием имени канала:
	После этого соединение клиента блокируется и ожидает поступления сообщений в указанный канал.
```bash
SUBSCRIBE my_channel
```
    
2. **Публикация сообщения:** Другой клиент может отправить сообщение в канал с помощью команды `PUBLISH`:
    Все клиенты, подписанные на `my_channel`, немедленно получат это сообщение.
```bash
PUBLISH my_channel "Текст сообщения"`
```

##### Особенности Redis Pub/Sub:
- Сообщения отправляются единожды
- Сообщения не сохраняются в памяти Redis.