#db #db-mongodb
 
---
### <font color="#de7802">Без авторизации</font>
```bash
docker run -d --name mongodb -p 27017:27017 mongo
```
---
### <font color="#de7802">С авторизацией</font>
1. Запустить контейнер с (опцией `--auth`), которая включает авторизацию.
	```bash
	docker run -d --name mongodb -p 27017:27017 mongo --auth
	```
2. Создание пользователя администратора
	```bash
	docker exec -it mongodb mongosh admin
	```
	
	```javascript
	db.createUser({
	  user: "admin",
	  pwd: "adminpassword",
	  roles: [{ role: "userAdminAnyDatabase", db: "admin" }]
	});
	```
---
### <font color="#de7802">С авторизацией и переменными окружения</font>
Dockerfile:
```dockerfile
FROM mongo:latest

ENV MONGO_INITDB_ROOT_USERNAME=admin
ENV MONGO_INITDB_ROOT_PASSWORD=adminpassword

COPY init.js /docker-entrypoint-initdb.d/
```
`init.js`:
```javascript
db.createUser({
  user: "appuser",
  pwd: "apppassword",
  roles: [{ role: "readWrite", db: "MyDatabase" }]
});
```

```bash
docker build -t my-mongo .
docker run -d --name mongodb -p 27017:27017 my-mongo
```

### Outer links:

