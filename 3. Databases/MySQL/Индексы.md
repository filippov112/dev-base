#db #MySQL
# <font color="#00b0f0">MySQL:</font> –ò–Ω–¥–µ–∫—Å—ã

### **<font color="#ffff00">PRIMARY KEY (–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å)</font>**
–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å —Ç–∞–±–ª–∏—Ü—ã, –¥–∞–Ω–Ω—ã–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ `PRIMARY KEY`.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏.
- –ö–æ–≥–¥–∞ —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è `SELECT`, `JOIN` –ø–æ –ø–µ—Ä–≤–∏—á–Ω–æ–º—É –∫–ª—é—á—É.

```sql
-- –ü–æ–ª–Ω—ã–π —Å–∫–∞–Ω —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ ID
SELECT * FROM users WHERE id = 123;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å.
```sql
CREATE TABLE users (
    id INT PRIMARY KEY,
    name VARCHAR(100)
);
```
---

### **<font color="#ffff00">UNIQUE INDEX (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å)</font>**
–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Å—Ç–æ–ª–±—Ü–µ, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –¥—É–±–ª–∏–∫–∞—Ç—ã.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, email). 
- –î–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —É—Å–ª–æ–≤–∏–π `WHERE`.

```sql
-- –í—Å—Ç–∞–≤–∫–∞ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è email-–∞ –≤–æ–∑–º–æ–∂–Ω–∞ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
INSERT INTO users (email) VALUES ('test@example.com');
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã.
```sql
CREATE UNIQUE INDEX idx_users_email ON users (email);
```
---

### **<font color="#ffff00">INDEX (–æ–±—ã—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å, B-Tree)</font>**
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ –æ–¥–Ω–æ–º –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö, —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–∏—Å–∫.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ `WHERE`.  
- –î–ª—è `ORDER BY`. 

```sql
-- –ü–æ–ª–Ω—ã–π —Å–∫–∞–Ω —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ status
SELECT * FROM orders WHERE status = 'Shipped';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ —É—Å–∫–æ—Ä–∏—Ç –ø–æ–∏—Å–∫.
```sql
CREATE INDEX idx_orders_status ON orders (status);
```
---

### **<font color="#ffff00">FULLTEXT INDEX (–ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å)</font>**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–ª—è–º (`MATCH ... AGAINST`).

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –¥–ª–∏–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–∞–º.

```sql
-- LIKE '%word%' –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å—ã, –≤—ã–ø–æ–ª–Ω—è—è –ø–æ–ª–Ω—ã–π —Å–∫–∞–Ω
SELECT * FROM articles WHERE content LIKE '%MySQL%';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å —É—Å–∫–æ—Ä–∏—Ç –ø–æ–∏—Å–∫.
```sql
CREATE FULLTEXT INDEX idx_articles_content ON articles (content);
SELECT * FROM articles WHERE MATCH(content) AGAINST('MySQL');
```
---

### **<font color="#ffff00">SPATIAL INDEX (–≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω–¥–µ–∫—Å, R-Tree)</font>**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–µ–æ–¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–∏–ø–µ `GEOMETRY`.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è –ø–æ–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ (`ST_Contains`, `ST_Distance`).

```sql
-- –ó–∞–ø—Ä–æ—Å —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å—é —Ç–∞–±–ª–∏—Ü—É, –º–µ–¥–ª–µ–Ω–Ω–æ –Ω–∞—Ö–æ–¥—è –±–ª–∏–∂–∞–π—à–∏–µ –æ–±—ä–µ–∫—Ç—ã
SELECT * FROM locations WHERE ST_Distance(geo, ST_GeomFromText('POINT(10 20)')) < 1000;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ —É—Å–∫–æ—Ä–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É.
```sql
CREATE SPATIAL INDEX idx_locations_geo ON locations (geo);
```
---

### **<font color="#ffff00">COMPOSITE INDEX (—Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å)</font>**
–ò–Ω–¥–µ–∫—Å —Å—Ä–∞–∑—É –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å—Ç–æ–ª–±—Ü–∞–º, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ, —á–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ö–æ–≥–¥–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–ª–æ–Ω–∫–∞–º.

```sql
-- –ó–∞–ø—Ä–æ—Å —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É, —Ö–æ—Ç—è –æ–±–∞ –ø–æ–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
SELECT * FROM orders WHERE customer_id = 123 AND status = 'Shipped';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ —É—Å–∫–æ—Ä–∏—Ç –ø–æ–∏—Å–∫.
```sql
CREATE INDEX idx_orders_customer_status ON orders (customer_id, status);
```
---

### **<font color="#ffff00">HASH INDEX (—Ç–æ–ª—å–∫–æ –¥–ª—è MEMORY-—Ç–∞–±–ª–∏—Ü)</font>**
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–æ—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é `=`.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –¢–æ–ª—å–∫–æ –≤ `MEMORY`-—Ç–∞–±–ª–∏—Ü–∞—Ö.
- –ö–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å `=`.

```sql
-- –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á—É –≤ MEMORY-—Ç–∞–±–ª–∏—Ü–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ
SELECT * FROM cache WHERE key = 'session_123';
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –•–µ—à-–∏–Ω–¥–µ–∫—Å —É—Å–∫–æ—Ä–∏—Ç –ø–æ–∏—Å–∫.
```sql
CREATE TABLE cache (
    key VARCHAR(255) PRIMARY KEY,
    value TEXT
) ENGINE=MEMORY;
```
---

### **<font color="#ffff00">COVERING INDEX (–∏–Ω–¥–µ–∫—Å —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏)</font>**
–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ –∏–Ω–¥–µ–∫—Å (`INCLUDE` –≤ MySQL –Ω–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –≤ –∏–Ω–¥–µ–∫—Å).

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∏–Ω–¥–µ–∫—Å–∞, –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Ç–∞–±–ª–∏—Ü–µ.

```sql
-- –ó–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å, –Ω–æ –¥–∞–Ω–Ω—ã–µ —Ç—è–Ω—É—Ç—Å—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
SELECT customer_id, order_date FROM orders WHERE customer_id = 123;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ –æ–±–µ –∫–æ–ª–æ–Ω–∫–∏ —É—Å–∫–æ—Ä–∏—Ç –∑–∞–ø—Ä–æ—Å.
```sql
CREATE INDEX idx_orders_customer ON orders (customer_id, order_date);
```
---

### **<font color="#ffff00">INVISIBLE INDEX (–Ω–µ–≤–∏–¥–∏–º—ã–π –∏–Ω–¥–µ–∫—Å)</font>**
–ò–Ω–¥–µ–∫—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`ALTER INDEX ... VISIBLE` –≤–∫–ª—é—á–∞–µ—Ç –µ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ).

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –∏–Ω–¥–µ–∫—Å–∞.

```sql
-- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –∑–∞–º–µ–¥–ª—è–µ—Ç –ª–∏ –∏–Ω–¥–µ–∫—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
UPDATE orders SET status = 'Canceled' WHERE customer_id = 123;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞—Ç—å –∏–Ω–¥–µ–∫—Å –Ω–µ–≤–∏–¥–∏–º—ã–º, –∑–∞—Ç–µ–º –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.
```sql
ALTER INDEX idx_orders_customer_status INVISIBLE;
```
---

### **<font color="#ffff00">DESCENDING INDEX (–∏–Ω–¥–µ–∫—Å –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è)</font>**
–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç `ORDER BY column DESC`.

üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ `DESC` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–∞—Å—Ç–æ.

```sql
-- MySQL –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –≤—Ä—É—á–Ω—É—é, —á—Ç–æ –∑–∞–º–µ–¥–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
SELECT * FROM orders ORDER BY created_at DESC;
```
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∏—Å—Ö–æ–¥—è—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ —É—Å–∫–æ—Ä–∏—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É.
```sql
CREATE INDEX idx_orders_created_at_desc ON orders (created_at DESC);
```
