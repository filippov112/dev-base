#lang #lang-c_sharp

---
`Null` выступает как значение по умолчанию для ссылочных типов.

**nullable-тип** - допускающий `null`. 

```csharp
int? number1 = 5;
Nullable<int> number2 = 5;
```

**Полезные операторы:**
1. `is / is not` - проверка на null, проверка на соответствие типу (`text is string`)
2. `??` - null-объединение - возвращает левый операнд, если != null, иначе - правый операнд. 
3. `??=` - проверяет что левый операнд != null, иначе приравнивает его к правому операнду.
4. `?` - условный null - выполняет обращение к методу объекта при условии что объект != null.

---
#### Значимые типы
Любой nullable-значимый тип есть по сути структура `System.Nullable<T>`

1. `Nullable<T>` имеет два свойства:
	- **Value** - не nullable значение объекта
	- **HasValue** - проверяет `this == null`.
	- **GetValueOrDefault( \[int \_default] )** - возвращает не nullable значение или значение типа по умолчанию (или указанное в параметре).
2. `Nullable<T>` не участвует в арифметических операциях (результатом будет `null`)
3. `Nullable<T>` в операциях сравнения работает только с  \==, `!=`.  С другими возвращает всегда `false`.

---
#### Ссылочные типы (Начиная с C#8)

**nullable aware context** - nullable-контекст, в котором можно использовать ссылочные nullable-типы.
**nullable reference types (NRT)** - ссылочные типы, специально помеченные как ожидающие `null`. Нужны для статического автоанализа кода, отделяя места в которых разработчик уверен в отсутствии `null` от тех, где `null` возможен.
**null-forgiving operator** - пометка разработчика, что NRT можно доверять в конкретном месте.

```csharp
int? optionalInt = default; // default == null
optionalInt = 5;
string? optionalText = default; // nullable reference types
optionalText = "Hello World.";
```

Включение/отключение Nullable-контекста (по умолчанию - включен) в файле конфигурации проекта.
После отключение ссылочные Nullable-типы становятся недоступны.

```xml
<Nullable>enable/disable</Nullable>
```

Включение контекста на уровне файла:

```csharp
#nullable enable
```

Отключение и восстановление стандартного контекста:

```csharp
#nullable disable
    string text = null; // здесь nullable-контекст не действует
#nullable restore
 
string? name = null;   // здесь nullable-контекст снова действует
```

### Inner links:
[1. Типы ссылки и типы значения](1.%20Lang/C-sharp/0.%20Введение/1.%20Типы%20данных/1.%20Типы%20ссылки%20и%20типы%20значения.md)


### Outer links:


