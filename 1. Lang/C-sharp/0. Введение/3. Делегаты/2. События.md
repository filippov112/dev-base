#lang #lang-c_sharp

---
События объявляются в классе с помощью ключевого слова `event`, после которого указывается **тип делегата**, который представляет событие.
По своей сути **события** - те же [**делегаты**](1.%20Lang/C-sharp/0.%20Введение/3.%20Делегаты/1.%20Делегаты.md), с ограничениями в целях безопасности:
- Только содержащий класс может вызывать событие.
- Нельзя присвоить новое значение всему списку обработчиков (`a = func()`)
- Также события позволяют выполнять обработку процессов подписки (**add**) и отписки (**remove**):
- В качестве обработчиков могут использоваться не только обычные методы, но также делегаты, анонимные методы и лямбда-выражения.

```csharp
public class Button
{
    public delegate void ClickEventHandler(object sender, EventArgs e); // инициализация типа делегата для события
    public event ClickEventHandler evClick; // событие-делегат

    public void OnClick()
    {
        if (Click != null)
        {
            // evClick(this, EventArgs.Empty); // вызов события-делегата
            evClick.Invoke(this, EventArgs.Empty) // то же самое
        }
    }
}

```


```csharp
public delegate void AccountHandler(string message); // тип делегата
AccountHandler? notify; // приватный делегат (просто для примера работы с value)


public event AccountHandler Notify // событие того же типа, что и делегат для работы с последним
{
	add
	{
		notify += value; // value - Функция-обработчик
		Console.WriteLine($"{value.Method.Name} добавлен"); // название метода
	}
	remove
	{
		notify -= value;
		Console.WriteLine($"{value.Method.Name} удален");
	}
}
// Внутри класса событие вызывается также через переменную notify. Но для добавления и удаления обработчиков в программе используется как раз Notify
```

### Внутренние ссылки:
[1. Делегаты](1.%20Lang/C-sharp/0.%20Введение/3.%20Делегаты/1.%20Делегаты.md)

### Внешние ссылки:
- [События (Руководство по программированию C#)](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/events/)
- [События C# по-человечески](https://habr.com/ru/articles/213809/)
- [C# и .NET | События](https://metanit.com/sharp/tutorial/3.14.php)