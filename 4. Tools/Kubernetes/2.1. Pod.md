#devops #Kubernetes 

# Kubernetes: **Pod** 

**Pod** — базовая единица развертывания, представляющая собой группу из одного или нескольких контейнеров на одном хосте, которые совместно используют сетевые и хранилищные ресурсы.

Описывается в *YAML-манифесте*, где указываются его свойства, включая контейнеры, их образы, порты и переменные окружения. 

#### Фазы жизненного цикла
1. *Pending*: Pod создан, но контейнеры еще не запущены.
2. *Running*: хотя бы один контейнер запущен.
3. *Succeeded*: все контейнеры завершились успешно.
4. *Failed*: хотя бы один контейнер завершился с ошибкой.
5. *Unknown*: состояние не может быть определено.

#### Управление Pod-ом
- Создание: `kubectl apply -f pod-definition.yaml`
- Просмотр: `kubectl get pods`
- Описание: `kubectl describe pod example-pod`
- Удаление: `kubectl delete pod example-pod`

**Init-контейнеры** - выполняются перед основными контейнерами для задач инициализации, в т.ч. настройка окружения и проверка зависимостей. Определяются в секции `initContainers`:

> Пример:
> 
> ```yaml
> apiVersion: v1
> kind: Pod
> metadata:
>   name: example-pod
> spec:
>   containers:
>   - name: app-container
>     image: nginx:latest
>     ports:
>     - containerPort: 80
>     env:
>     - name: ENVIRONMENT
>       value: production
> ```
> В этом примере:
> - **name**: имя контейнера.
> - **image**: образ контейнера.
> - **ports**: список портов, которые контейнер прослушивает.
> - **env**: переменные окружения, передаваемые в контейнер.

> ```yaml
> apiVersion: v1
> kind: Pod
> metadata:
>   name: example-pod
> spec:
>   initContainers:
>   - name: init-container
>     image: busybox
>     command: ['sh', '-c', 'echo Init container started; sleep 5']
>   containers:
>   - name: app-container
>     image: nginx:latest
>     ports:
>     - containerPort: 80
> ```
> В этом примере `init-container` выполнит команду перед запуском основного контейнера `app-container`.

### Outer links:
- [Официальная документация Kubernetes: Pods](https://kubernetes.io/ru/docs/concepts/workloads/pods/)
- [Статья на Хабре: "Так что же такое pod в Kubernetes?"](https://habr.com/ru/companies/flant/articles/427819/)


